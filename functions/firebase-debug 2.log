[debug] [2025-04-10T04:45:32.173Z] ----------------------------------------------------------------------
[debug] [2025-04-10T04:45:32.175Z] Command:       /opt/homebrew/Cellar/node/23.10.0/bin/node /opt/homebrew/bin/firebase deploy --only functions
[debug] [2025-04-10T04:45:32.175Z] CLI Version:   14.1.0
[debug] [2025-04-10T04:45:32.175Z] Platform:      darwin
[debug] [2025-04-10T04:45:32.175Z] Node Version:  v23.10.0
[debug] [2025-04-10T04:45:32.176Z] Time:          Thu Apr 10 2025 12:45:32 GMT+0800 (Malaysia Time)
[debug] [2025-04-10T04:45:32.176Z] ----------------------------------------------------------------------
[debug] 
[debug] [2025-04-10T04:45:32.244Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2025-04-10T04:45:32.245Z] > authorizing via signed-in user (kokshaoai@gmail.com)
[debug] [2025-04-10T04:45:32.245Z] [iam] checking project appointmentapplication-9c371 for permissions ["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]
[debug] [2025-04-10T04:45:32.245Z] Checked if tokens are valid: true, expires at: 1744261749984
[debug] [2025-04-10T04:45:32.245Z] Checked if tokens are valid: true, expires at: 1744261749984
[debug] [2025-04-10T04:45:32.246Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/appointmentapplication-9c371:testIamPermissions [none]
[debug] [2025-04-10T04:45:32.246Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/appointmentapplication-9c371:testIamPermissions x-goog-quota-user=projects/appointmentapplication-9c371
[debug] [2025-04-10T04:45:32.246Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/appointmentapplication-9c371:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]}
[debug] [2025-04-10T04:45:36.521Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/appointmentapplication-9c371:testIamPermissions 200
[debug] [2025-04-10T04:45:36.522Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/appointmentapplication-9c371:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]}
[debug] [2025-04-10T04:45:36.522Z] Checked if tokens are valid: true, expires at: 1744261749984
[debug] [2025-04-10T04:45:36.522Z] Checked if tokens are valid: true, expires at: 1744261749984
[debug] [2025-04-10T04:45:36.522Z] >>> [apiv2][query] POST https://iam.googleapis.com/v1/projects/appointmentapplication-9c371/serviceAccounts/appointmentapplication-9c371@appspot.gserviceaccount.com:testIamPermissions [none]
[debug] [2025-04-10T04:45:36.523Z] >>> [apiv2][body] POST https://iam.googleapis.com/v1/projects/appointmentapplication-9c371/serviceAccounts/appointmentapplication-9c371@appspot.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[debug] [2025-04-10T04:45:37.844Z] <<< [apiv2][status] POST https://iam.googleapis.com/v1/projects/appointmentapplication-9c371/serviceAccounts/appointmentapplication-9c371@appspot.gserviceaccount.com:testIamPermissions 200
[debug] [2025-04-10T04:45:37.844Z] <<< [apiv2][body] POST https://iam.googleapis.com/v1/projects/appointmentapplication-9c371/serviceAccounts/appointmentapplication-9c371@appspot.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[info] 
[info] === Deploying to 'appointmentapplication-9c371'...
[info] 
[info] i  deploying functions 
[debug] [2025-04-10T04:45:37.846Z] Checked if tokens are valid: true, expires at: 1744261749984
[debug] [2025-04-10T04:45:37.847Z] Checked if tokens are valid: true, expires at: 1744261749984
[debug] [2025-04-10T04:45:37.847Z] >>> [apiv2][query] GET https://cloudresourcemanager.googleapis.com/v1/projects/appointmentapplication-9c371 [none]
[debug] [2025-04-10T04:45:38.327Z] <<< [apiv2][status] GET https://cloudresourcemanager.googleapis.com/v1/projects/appointmentapplication-9c371 200
[debug] [2025-04-10T04:45:38.328Z] <<< [apiv2][body] GET https://cloudresourcemanager.googleapis.com/v1/projects/appointmentapplication-9c371 {"projectNumber":"191339301810","projectId":"appointmentapplication-9c371","lifecycleState":"ACTIVE","name":"AppointmentApplication","labels":{"firebase":"enabled","firebase-core":"disabled"},"createTime":"2025-03-11T03:36:42.197701Z"}
[info] i  functions: preparing codebase default for deployment 
[info] i  functions: ensuring required API cloudfunctions.googleapis.com is enabled... 
[debug] [2025-04-10T04:45:38.329Z] Checked if tokens are valid: true, expires at: 1744261749984
[debug] [2025-04-10T04:45:38.329Z] Checked if tokens are valid: true, expires at: 1744261749984
[debug] [2025-04-10T04:45:38.329Z] Checked if tokens are valid: true, expires at: 1744261749984
[debug] [2025-04-10T04:45:38.329Z] Checked if tokens are valid: true, expires at: 1744261749984
[info] i  functions: ensuring required API cloudbuild.googleapis.com is enabled... 
[debug] [2025-04-10T04:45:38.330Z] Checked if tokens are valid: true, expires at: 1744261749984
[debug] [2025-04-10T04:45:38.330Z] Checked if tokens are valid: true, expires at: 1744261749984
[info] i  artifactregistry: ensuring required API artifactregistry.googleapis.com is enabled... 
[debug] [2025-04-10T04:45:38.330Z] Checked if tokens are valid: true, expires at: 1744261749984
[debug] [2025-04-10T04:45:38.330Z] Checked if tokens are valid: true, expires at: 1744261749984
[debug] [2025-04-10T04:45:38.330Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/appointmentapplication-9c371/services/cloudfunctions.googleapis.com [none]
[debug] [2025-04-10T04:45:38.330Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/appointmentapplication-9c371/services/cloudfunctions.googleapis.com x-goog-quota-user=projects/appointmentapplication-9c371
[debug] [2025-04-10T04:45:38.332Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/appointmentapplication-9c371/services/runtimeconfig.googleapis.com [none]
[debug] [2025-04-10T04:45:38.332Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/appointmentapplication-9c371/services/runtimeconfig.googleapis.com x-goog-quota-user=projects/appointmentapplication-9c371
[debug] [2025-04-10T04:45:38.333Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/appointmentapplication-9c371/services/cloudbuild.googleapis.com [none]
[debug] [2025-04-10T04:45:38.333Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/appointmentapplication-9c371/services/cloudbuild.googleapis.com x-goog-quota-user=projects/appointmentapplication-9c371
[debug] [2025-04-10T04:45:38.334Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/appointmentapplication-9c371/services/artifactregistry.googleapis.com [none]
[debug] [2025-04-10T04:45:38.335Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/appointmentapplication-9c371/services/artifactregistry.googleapis.com x-goog-quota-user=projects/appointmentapplication-9c371
[debug] [2025-04-10T04:45:39.710Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/appointmentapplication-9c371/services/runtimeconfig.googleapis.com 200
[debug] [2025-04-10T04:45:39.711Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/appointmentapplication-9c371/services/runtimeconfig.googleapis.com [omitted]
[debug] [2025-04-10T04:45:39.711Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/appointmentapplication-9c371/services/cloudbuild.googleapis.com 200
[debug] [2025-04-10T04:45:39.711Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/appointmentapplication-9c371/services/cloudbuild.googleapis.com [omitted]
[info] ✔  functions: required API cloudbuild.googleapis.com is enabled 
[debug] [2025-04-10T04:45:39.714Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/appointmentapplication-9c371/services/cloudfunctions.googleapis.com 200
[debug] [2025-04-10T04:45:39.714Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/appointmentapplication-9c371/services/cloudfunctions.googleapis.com [omitted]
[info] ✔  functions: required API cloudfunctions.googleapis.com is enabled 
[debug] [2025-04-10T04:45:39.715Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/appointmentapplication-9c371/services/artifactregistry.googleapis.com 200
[debug] [2025-04-10T04:45:39.715Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/appointmentapplication-9c371/services/artifactregistry.googleapis.com [omitted]
[info] ✔  artifactregistry: required API artifactregistry.googleapis.com is enabled 
[debug] [2025-04-10T04:45:39.716Z] Checked if tokens are valid: true, expires at: 1744261749984
[debug] [2025-04-10T04:45:39.716Z] Checked if tokens are valid: true, expires at: 1744261749984
[debug] [2025-04-10T04:45:39.716Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/appointmentapplication-9c371/adminSdkConfig [none]
[debug] [2025-04-10T04:45:40.088Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/appointmentapplication-9c371/adminSdkConfig 200
[debug] [2025-04-10T04:45:40.088Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/appointmentapplication-9c371/adminSdkConfig {"projectId":"appointmentapplication-9c371","storageBucket":"appointmentapplication-9c371.firebasestorage.app"}
[debug] [2025-04-10T04:45:40.088Z] Checked if tokens are valid: true, expires at: 1744261749984
[debug] [2025-04-10T04:45:40.088Z] Checked if tokens are valid: true, expires at: 1744261749984
[debug] [2025-04-10T04:45:40.089Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/appointmentapplication-9c371/configs [none]
[debug] [2025-04-10T04:45:40.405Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/appointmentapplication-9c371/configs 200
[debug] [2025-04-10T04:45:40.405Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/appointmentapplication-9c371/configs {"configs":[{"name":"projects/appointmentapplication-9c371/configs/gmail"}]}
[debug] [2025-04-10T04:45:40.406Z] Checked if tokens are valid: true, expires at: 1744261749984
[debug] [2025-04-10T04:45:40.406Z] Checked if tokens are valid: true, expires at: 1744261749984
[debug] [2025-04-10T04:45:40.406Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/appointmentapplication-9c371/configs/gmail/variables [none]
[debug] [2025-04-10T04:45:40.680Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/appointmentapplication-9c371/configs/gmail/variables 200
[debug] [2025-04-10T04:45:40.680Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/appointmentapplication-9c371/configs/gmail/variables {"variables":[{"name":"projects/appointmentapplication-9c371/configs/gmail/variables/email","updateTime":"2025-04-10T04:04:32.000415760Z"},{"name":"projects/appointmentapplication-9c371/configs/gmail/variables/password","updateTime":"2025-04-10T04:04:32.661602626Z"}]}
[debug] [2025-04-10T04:45:40.680Z] Checked if tokens are valid: true, expires at: 1744261749984
[debug] [2025-04-10T04:45:40.680Z] Checked if tokens are valid: true, expires at: 1744261749984
[debug] [2025-04-10T04:45:40.680Z] Checked if tokens are valid: true, expires at: 1744261749984
[debug] [2025-04-10T04:45:40.680Z] Checked if tokens are valid: true, expires at: 1744261749984
[debug] [2025-04-10T04:45:40.680Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/appointmentapplication-9c371/configs/gmail/variables/email [none]
[debug] [2025-04-10T04:45:40.680Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/appointmentapplication-9c371/configs/gmail/variables/password [none]
[debug] [2025-04-10T04:45:40.927Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/appointmentapplication-9c371/configs/gmail/variables/email 200
[debug] [2025-04-10T04:45:40.928Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/appointmentapplication-9c371/configs/gmail/variables/email {"name":"projects/appointmentapplication-9c371/configs/gmail/variables/email","updateTime":"2025-04-10T04:04:32.000415760Z","text":"kokshaoai@gmail.com"}
[debug] [2025-04-10T04:45:41.003Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/appointmentapplication-9c371/configs/gmail/variables/password 200
[debug] [2025-04-10T04:45:41.003Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/appointmentapplication-9c371/configs/gmail/variables/password {"name":"projects/appointmentapplication-9c371/configs/gmail/variables/password","updateTime":"2025-04-10T04:04:32.661602626Z","text":"1234567"}
[debug] [2025-04-10T04:45:41.006Z] Validating nodejs source
[debug] [2025-04-10T04:45:41.380Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "22"
  },
  "main": "index.js",
  "dependencies": {
    "@emailjs/browser": "^4.4.1",
    "@sendgrid/mail": "^8.1.4",
    "emailjs-com": "^3.2.0",
    "firebase-admin": "^11.11.0",
    "firebase-functions": "^4.4.0",
    "nodemailer": "^6.9.8",
    "node-mailjet": "^6.0.8",
    "node-schedule": "^2.1.1"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2025-04-10T04:45:41.380Z] Building nodejs source
[info] i  functions: Loading and analyzing source code for codebase default to determine what to deploy 
[debug] [2025-04-10T04:45:41.381Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-04-10T04:45:41.384Z] Found firebase-functions binary at '/Users/kokshaoai/Desktop/Cloud Application Development/AppointmentApplication/new-app/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8427

[debug] [2025-04-10T04:45:41.601Z] Got response from /__/functions.yaml {"endpoints":{"sendReminderEmail":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"eventTrigger":{"eventType":"google.cloud.firestore.document.v1.created","eventFilters":{"database":"(default)","namespace":"(default)"},"eventFilterPathPatterns":{"document":"schedules/{scheduleId}"},"retry":false},"entryPoint":"sendReminderEmail"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] i  extensions: ensuring required API firebaseextensions.googleapis.com is enabled... 
[debug] [2025-04-10T04:45:45.615Z] Checked if tokens are valid: true, expires at: 1744261749984
[debug] [2025-04-10T04:45:45.616Z] Checked if tokens are valid: true, expires at: 1744261749984
[debug] [2025-04-10T04:45:45.616Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/appointmentapplication-9c371/services/firebaseextensions.googleapis.com [none]
[debug] [2025-04-10T04:45:45.616Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/appointmentapplication-9c371/services/firebaseextensions.googleapis.com x-goog-quota-user=projects/appointmentapplication-9c371
[debug] [2025-04-10T04:45:47.003Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/appointmentapplication-9c371/services/firebaseextensions.googleapis.com 200
[debug] [2025-04-10T04:45:47.003Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/appointmentapplication-9c371/services/firebaseextensions.googleapis.com [omitted]
[info] ✔  extensions: required API firebaseextensions.googleapis.com is enabled 
[debug] [2025-04-10T04:45:47.004Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2025-04-10T04:45:47.004Z] > authorizing via signed-in user (kokshaoai@gmail.com)
[debug] [2025-04-10T04:45:47.004Z] [iam] checking project appointmentapplication-9c371 for permissions ["firebase.projects.get","firebaseextensions.instances.list"]
[debug] [2025-04-10T04:45:47.004Z] Checked if tokens are valid: true, expires at: 1744261749984
[debug] [2025-04-10T04:45:47.004Z] Checked if tokens are valid: true, expires at: 1744261749984
[debug] [2025-04-10T04:45:47.004Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/appointmentapplication-9c371:testIamPermissions [none]
[debug] [2025-04-10T04:45:47.004Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/appointmentapplication-9c371:testIamPermissions x-goog-quota-user=projects/appointmentapplication-9c371
[debug] [2025-04-10T04:45:47.004Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/appointmentapplication-9c371:testIamPermissions {"permissions":["firebase.projects.get","firebaseextensions.instances.list"]}
[debug] [2025-04-10T04:45:51.418Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/appointmentapplication-9c371:testIamPermissions 200
[debug] [2025-04-10T04:45:51.418Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/appointmentapplication-9c371:testIamPermissions {"permissions":["firebase.projects.get","firebaseextensions.instances.list"]}
[debug] [2025-04-10T04:45:51.419Z] Checked if tokens are valid: true, expires at: 1744261749984
[debug] [2025-04-10T04:45:51.419Z] Checked if tokens are valid: true, expires at: 1744261749984
[debug] [2025-04-10T04:45:51.419Z] >>> [apiv2][query] GET https://firebaseextensions.googleapis.com/v1beta/projects/appointmentapplication-9c371/instances pageSize=100&pageToken=
[debug] [2025-04-10T04:45:56.457Z] <<< [apiv2][status] GET https://firebaseextensions.googleapis.com/v1beta/projects/appointmentapplication-9c371/instances 200
[debug] [2025-04-10T04:45:56.458Z] <<< [apiv2][body] GET https://firebaseextensions.googleapis.com/v1beta/projects/appointmentapplication-9c371/instances {}
[info] i  functions: preparing functions directory for uploading... 
[info] i  functions: packaged /Users/kokshaoai/Desktop/Cloud Application Development/AppointmentApplication/new-app/functions (67.57 KB) for uploading 
[debug] [2025-04-10T04:45:56.490Z] Checked if tokens are valid: true, expires at: 1744261749984
[debug] [2025-04-10T04:45:56.490Z] Checked if tokens are valid: true, expires at: 1744261749984
[debug] [2025-04-10T04:45:56.490Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/projects/appointmentapplication-9c371/locations/-/functions [none]
[debug] [2025-04-10T04:46:02.001Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/projects/appointmentapplication-9c371/locations/-/functions 200
[debug] [2025-04-10T04:46:02.001Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/projects/appointmentapplication-9c371/locations/-/functions {}
[debug] [2025-04-10T04:46:02.002Z] Checked if tokens are valid: true, expires at: 1744261749984
[debug] [2025-04-10T04:46:02.002Z] Checked if tokens are valid: true, expires at: 1744261749984
[debug] [2025-04-10T04:46:02.002Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/appointmentapplication-9c371/locations/-/functions filter=environment%3D%22GEN_2%22
[debug] [2025-04-10T04:46:03.251Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/appointmentapplication-9c371/locations/-/functions 200
[debug] [2025-04-10T04:46:03.252Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/appointmentapplication-9c371/locations/-/functions {}
[debug] [2025-04-10T04:46:03.253Z] Checked if tokens are valid: true, expires at: 1744261749984
[debug] [2025-04-10T04:46:03.253Z] Checked if tokens are valid: true, expires at: 1744261749984
[debug] [2025-04-10T04:46:03.254Z] >>> [apiv2][query] GET https://firestore.googleapis.com/v1/projects/appointmentapplication-9c371/databases/(default) [none]
[debug] [2025-04-10T04:46:04.822Z] <<< [apiv2][status] GET https://firestore.googleapis.com/v1/projects/appointmentapplication-9c371/databases/(default) 200
[debug] [2025-04-10T04:46:04.822Z] <<< [apiv2][body] GET https://firestore.googleapis.com/v1/projects/appointmentapplication-9c371/databases/(default) {"name":"projects/appointmentapplication-9c371/databases/(default)","uid":"c81b354d-545d-4356-b60c-7dc8cd162a8f","createTime":"2025-03-11T04:53:38.069829Z","updateTime":"2025-03-11T04:53:38.069829Z","locationId":"nam5","type":"FIRESTORE_NATIVE","concurrencyMode":"PESSIMISTIC","versionRetentionPeriod":"3600s","earliestVersionTime":"2025-04-10T03:46:04.776862Z","appEngineIntegrationMode":"DISABLED","keyPrefix":"s","pointInTimeRecoveryEnablement":"POINT_IN_TIME_RECOVERY_DISABLED","deleteProtectionState":"DELETE_PROTECTION_DISABLED","databaseEdition":"STANDARD","freeTier":true,"etag":"IJ3mwJvUzIwDMPGi0YLPzIwD"}
[info] i  functions: ensuring required API run.googleapis.com is enabled... 
[debug] [2025-04-10T04:46:04.825Z] Checked if tokens are valid: true, expires at: 1744261749984
[debug] [2025-04-10T04:46:04.825Z] Checked if tokens are valid: true, expires at: 1744261749984
[info] i  functions: ensuring required API eventarc.googleapis.com is enabled... 
[debug] [2025-04-10T04:46:04.826Z] Checked if tokens are valid: true, expires at: 1744261749984
[debug] [2025-04-10T04:46:04.826Z] Checked if tokens are valid: true, expires at: 1744261749984
[info] i  functions: ensuring required API pubsub.googleapis.com is enabled... 
[debug] [2025-04-10T04:46:04.826Z] Checked if tokens are valid: true, expires at: 1744261749984
[debug] [2025-04-10T04:46:04.826Z] Checked if tokens are valid: true, expires at: 1744261749984
[info] i  functions: ensuring required API storage.googleapis.com is enabled... 
[debug] [2025-04-10T04:46:04.826Z] Checked if tokens are valid: true, expires at: 1744261749984
[debug] [2025-04-10T04:46:04.826Z] Checked if tokens are valid: true, expires at: 1744261749984
[debug] [2025-04-10T04:46:04.826Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/appointmentapplication-9c371/services/run.googleapis.com [none]
[debug] [2025-04-10T04:46:04.826Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/appointmentapplication-9c371/services/run.googleapis.com x-goog-quota-user=projects/appointmentapplication-9c371
[debug] [2025-04-10T04:46:04.827Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/appointmentapplication-9c371/services/eventarc.googleapis.com [none]
[debug] [2025-04-10T04:46:04.827Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/appointmentapplication-9c371/services/eventarc.googleapis.com x-goog-quota-user=projects/appointmentapplication-9c371
[debug] [2025-04-10T04:46:04.829Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/appointmentapplication-9c371/services/pubsub.googleapis.com [none]
[debug] [2025-04-10T04:46:04.829Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/appointmentapplication-9c371/services/pubsub.googleapis.com x-goog-quota-user=projects/appointmentapplication-9c371
[debug] [2025-04-10T04:46:04.830Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/appointmentapplication-9c371/services/storage.googleapis.com [none]
[debug] [2025-04-10T04:46:04.830Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/appointmentapplication-9c371/services/storage.googleapis.com x-goog-quota-user=projects/appointmentapplication-9c371
[debug] [2025-04-10T04:46:05.434Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/appointmentapplication-9c371/services/storage.googleapis.com 200
[debug] [2025-04-10T04:46:05.434Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/appointmentapplication-9c371/services/storage.googleapis.com [omitted]
[info] ✔  functions: required API storage.googleapis.com is enabled 
[debug] [2025-04-10T04:46:06.186Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/appointmentapplication-9c371/services/pubsub.googleapis.com 200
[debug] [2025-04-10T04:46:06.187Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/appointmentapplication-9c371/services/pubsub.googleapis.com [omitted]
[info] ✔  functions: required API pubsub.googleapis.com is enabled 
[debug] [2025-04-10T04:46:06.204Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/appointmentapplication-9c371/services/eventarc.googleapis.com 200
[debug] [2025-04-10T04:46:06.204Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/appointmentapplication-9c371/services/eventarc.googleapis.com [omitted]
[info] ✔  functions: required API eventarc.googleapis.com is enabled 
[debug] [2025-04-10T04:46:06.296Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/appointmentapplication-9c371/services/run.googleapis.com 200
[debug] [2025-04-10T04:46:06.296Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/appointmentapplication-9c371/services/run.googleapis.com [omitted]
[info] ✔  functions: required API run.googleapis.com is enabled 
[info] i  functions: generating the service identity for pubsub.googleapis.com... 
[debug] [2025-04-10T04:46:06.297Z] Checked if tokens are valid: true, expires at: 1744261749984
[debug] [2025-04-10T04:46:06.297Z] Checked if tokens are valid: true, expires at: 1744261749984
[info] i  functions: generating the service identity for eventarc.googleapis.com... 
[debug] [2025-04-10T04:46:06.297Z] Checked if tokens are valid: true, expires at: 1744261749984
[debug] [2025-04-10T04:46:06.297Z] Checked if tokens are valid: true, expires at: 1744261749984
[debug] [2025-04-10T04:46:06.298Z] >>> [apiv2][query] POST https://serviceusage.googleapis.com/v1beta1/projects/191339301810/services/pubsub.googleapis.com:generateServiceIdentity [none]
[debug] [2025-04-10T04:46:06.298Z] >>> [apiv2][query] POST https://serviceusage.googleapis.com/v1beta1/projects/191339301810/services/eventarc.googleapis.com:generateServiceIdentity [none]
[debug] [2025-04-10T04:46:06.626Z] <<< [apiv2][status] POST https://serviceusage.googleapis.com/v1beta1/projects/191339301810/services/eventarc.googleapis.com:generateServiceIdentity 200
[debug] [2025-04-10T04:46:06.626Z] <<< [apiv2][body] POST https://serviceusage.googleapis.com/v1beta1/projects/191339301810/services/eventarc.googleapis.com:generateServiceIdentity {"name":"operations/finished.DONE_OPERATION","done":true,"response":{"@type":"type.googleapis.com/google.api.serviceusage.v1beta1.ServiceIdentity","email":"service-191339301810@gcp-sa-eventarc.iam.gserviceaccount.com","uniqueId":"106972801940257876646"}}
[debug] [2025-04-10T04:46:06.660Z] <<< [apiv2][status] POST https://serviceusage.googleapis.com/v1beta1/projects/191339301810/services/pubsub.googleapis.com:generateServiceIdentity 200
[debug] [2025-04-10T04:46:06.661Z] <<< [apiv2][body] POST https://serviceusage.googleapis.com/v1beta1/projects/191339301810/services/pubsub.googleapis.com:generateServiceIdentity {"name":"operations/finished.DONE_OPERATION","done":true,"response":{"@type":"type.googleapis.com/google.api.serviceusage.v1beta1.ServiceIdentity","email":"service-191339301810@gcp-sa-pubsub.iam.gserviceaccount.com","uniqueId":"111934054489487765288"}}
[debug] [2025-04-10T04:46:06.664Z] Checked if tokens are valid: true, expires at: 1744261749984
[debug] [2025-04-10T04:46:06.664Z] Checked if tokens are valid: true, expires at: 1744261749984
[debug] [2025-04-10T04:46:06.664Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/191339301810:getIamPolicy [none]
[debug] [2025-04-10T04:46:11.169Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/191339301810:getIamPolicy 200
[debug] [2025-04-10T04:46:11.169Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/191339301810:getIamPolicy {"version":1,"etag":"BwYyZSl6JUA=","bindings":[{"role":"roles/cloudbuild.builds.builder","members":["serviceAccount:191339301810@cloudbuild.gserviceaccount.com"]},{"role":"roles/cloudbuild.serviceAgent","members":["serviceAccount:service-191339301810@gcp-sa-cloudbuild.iam.gserviceaccount.com"]},{"role":"roles/cloudfunctions.serviceAgent","members":["serviceAccount:service-191339301810@gcf-admin-robot.iam.gserviceaccount.com"]},{"role":"roles/containerregistry.ServiceAgent","members":["serviceAccount:service-191339301810@containerregistry.iam.gserviceaccount.com"]},{"role":"roles/editor","members":["serviceAccount:191339301810-compute@developer.gserviceaccount.com","serviceAccount:191339301810@cloudservices.gserviceaccount.com","serviceAccount:appointmentapplication-9c371@appspot.gserviceaccount.com"]},{"role":"roles/eventarc.eventReceiver","members":["serviceAccount:191339301810-compute@developer.gserviceaccount.com"]},{"role":"roles/eventarc.serviceAgent","members":["serviceAccount:service-191339301810@gcp-sa-eventarc.iam.gserviceaccount.com"]},{"role":"roles/firebase.managementServiceAgent","members":["serviceAccount:service-191339301810@gcp-sa-firebase.iam.gserviceaccount.com"]},{"role":"roles/firebase.sdkAdminServiceAgent","members":["serviceAccount:firebase-adminsdk-fbsvc@appointmentapplication-9c371.iam.gserviceaccount.com"]},{"role":"roles/firebaseauth.admin","members":["serviceAccount:firebase-adminsdk-fbsvc@appointmentapplication-9c371.iam.gserviceaccount.com"]},{"role":"roles/firebasemods.serviceAgent","members":["serviceAccount:service-191339301810@gcp-sa-firebasemods.iam.gserviceaccount.com"]},{"role":"roles/firebaserules.system","members":["serviceAccount:service-191339301810@firebase-rules.iam.gserviceaccount.com"]},{"role":"roles/firestore.serviceAgent","members":["serviceAccount:service-191339301810@gcp-sa-firestore.iam.gserviceaccount.com"]},{"role":"roles/iam.serviceAccountTokenCreator","members":["serviceAccount:firebase-adminsdk-fbsvc@appointmentapplication-9c371.iam.gserviceaccount.com","serviceAccount:service-191339301810@gcp-sa-pubsub.iam.gserviceaccount.com"]},{"role":"roles/owner","members":["user:kokshaoai@gmail.com"]},{"role":"roles/run.invoker","members":["serviceAccount:191339301810-compute@developer.gserviceaccount.com"]},{"role":"roles/run.serviceAgent","members":["serviceAccount:service-191339301810@serverless-robot-prod.iam.gserviceaccount.com"]}]}
[debug] [2025-04-10T04:46:11.170Z] Checked if tokens are valid: true, expires at: 1744261749984
[debug] [2025-04-10T04:46:11.170Z] Checked if tokens are valid: true, expires at: 1744261749984
[debug] [2025-04-10T04:46:11.170Z] >>> [apiv2][query] GET https://cloudresourcemanager.googleapis.com/v1/projects/appointmentapplication-9c371 [none]
[debug] [2025-04-10T04:46:11.625Z] <<< [apiv2][status] GET https://cloudresourcemanager.googleapis.com/v1/projects/appointmentapplication-9c371 200
[debug] [2025-04-10T04:46:11.626Z] <<< [apiv2][body] GET https://cloudresourcemanager.googleapis.com/v1/projects/appointmentapplication-9c371 {"projectNumber":"191339301810","projectId":"appointmentapplication-9c371","lifecycleState":"ACTIVE","name":"AppointmentApplication","labels":{"firebase":"enabled","firebase-core":"disabled"},"createTime":"2025-03-11T03:36:42.197701Z"}
[debug] [2025-04-10T04:46:11.627Z] Checked if tokens are valid: true, expires at: 1744261749984
[debug] [2025-04-10T04:46:11.628Z] Checked if tokens are valid: true, expires at: 1744261749984
[debug] [2025-04-10T04:46:11.628Z] >>> [apiv2][query] GET https://cloudbilling.googleapis.com/v1/projects/appointmentapplication-9c371/billingInfo [none]
[debug] [2025-04-10T04:46:13.079Z] <<< [apiv2][status] GET https://cloudbilling.googleapis.com/v1/projects/appointmentapplication-9c371/billingInfo 200
[debug] [2025-04-10T04:46:13.079Z] <<< [apiv2][body] GET https://cloudbilling.googleapis.com/v1/projects/appointmentapplication-9c371/billingInfo {"name":"projects/appointmentapplication-9c371/billingInfo","projectId":"appointmentapplication-9c371","billingAccountName":"billingAccounts/016FB9-50B267-1BED16","billingEnabled":true}
[debug] [2025-04-10T04:46:13.080Z] Checked if tokens are valid: true, expires at: 1744261749984
[debug] [2025-04-10T04:46:13.080Z] Checked if tokens are valid: true, expires at: 1744261749984
[debug] [2025-04-10T04:46:13.080Z] >>> [apiv2][query] POST https://cloudfunctions.googleapis.com/v2/projects/appointmentapplication-9c371/locations/us-central1/functions:generateUploadUrl [none]
[debug] [2025-04-10T04:46:18.545Z] <<< [apiv2][status] POST https://cloudfunctions.googleapis.com/v2/projects/appointmentapplication-9c371/locations/us-central1/functions:generateUploadUrl 200
[debug] [2025-04-10T04:46:18.545Z] <<< [apiv2][body] POST https://cloudfunctions.googleapis.com/v2/projects/appointmentapplication-9c371/locations/us-central1/functions:generateUploadUrl {"uploadUrl":"https://storage.googleapis.com/gcf-v2-uploads-191339301810.us-central1.cloudfunctions.appspot.com/985e95ec-eb0d-40e1-b6cf-59f7d4c7cfe9.zip?GoogleAccessId=service-191339301810@gcf-admin-robot.iam.gserviceaccount.com&Expires=1744262178&Signature=JaFkuLRqsR83MRVVtqLItIdEWc%2BW7JNIoqXTEotV%2Fxu7l34jFLjWvua710yFSk4WRIOCywYQnQvun5aODPnHabUZXlaeT4i9PGW1CClo%2BdVVQY5u4rUF0dA3RRn7XEuqOtvyJfy6dqhZpwpVxai6%2BaMP0IQzcHjnZU9d7Hr1M940mq%2FD%2FDnJ49m38o4Y6HYynKI%2FOpRA1g4FDM%2FGiLQKEJZCwqGRLmnSOxvcB%2FUSDzzmCw6eBw20AUGuIEdar%2FGnQGQQhFs4vyTxSPgSVV9roN1PT%2FO%2Bea8YurdWTQEjIukm1jmgrrpWv%2F212cB1%2Bc%2BLrl1XIbDvYmQ31GLL0Mdo3w%3D%3D","storageSource":{"bucket":"gcf-v2-uploads-191339301810.us-central1.cloudfunctions.appspot.com","object":"985e95ec-eb0d-40e1-b6cf-59f7d4c7cfe9.zip"}}
[debug] [2025-04-10T04:46:18.547Z] >>> [apiv2][query] PUT https://storage.googleapis.com/gcf-v2-uploads-191339301810.us-central1.cloudfunctions.appspot.com/985e95ec-eb0d-40e1-b6cf-59f7d4c7cfe9.zip GoogleAccessId=service-191339301810%40gcf-admin-robot.iam.gserviceaccount.com&Expires=1744262178&Signature=JaFkuLRqsR83MRVVtqLItIdEWc%2BW7JNIoqXTEotV%2Fxu7l34jFLjWvua710yFSk4WRIOCywYQnQvun5aODPnHabUZXlaeT4i9PGW1CClo%2BdVVQY5u4rUF0dA3RRn7XEuqOtvyJfy6dqhZpwpVxai6%2BaMP0IQzcHjnZU9d7Hr1M940mq%2FD%2FDnJ49m38o4Y6HYynKI%2FOpRA1g4FDM%2FGiLQKEJZCwqGRLmnSOxvcB%2FUSDzzmCw6eBw20AUGuIEdar%2FGnQGQQhFs4vyTxSPgSVV9roN1PT%2FO%2Bea8YurdWTQEjIukm1jmgrrpWv%2F212cB1%2Bc%2BLrl1XIbDvYmQ31GLL0Mdo3w%3D%3D
[debug] [2025-04-10T04:46:18.547Z] >>> [apiv2][body] PUT https://storage.googleapis.com/gcf-v2-uploads-191339301810.us-central1.cloudfunctions.appspot.com/985e95ec-eb0d-40e1-b6cf-59f7d4c7cfe9.zip [stream]
[debug] [2025-04-10T04:46:20.588Z] <<< [apiv2][status] PUT https://storage.googleapis.com/gcf-v2-uploads-191339301810.us-central1.cloudfunctions.appspot.com/985e95ec-eb0d-40e1-b6cf-59f7d4c7cfe9.zip 200
[debug] [2025-04-10T04:46:20.588Z] <<< [apiv2][body] PUT https://storage.googleapis.com/gcf-v2-uploads-191339301810.us-central1.cloudfunctions.appspot.com/985e95ec-eb0d-40e1-b6cf-59f7d4c7cfe9.zip [omitted]
[info] ✔  functions: functions folder uploaded successfully 
[info] i  functions: creating Node.js 22 (2nd Gen) function sendReminderEmail(us-central1)... 
[debug] [2025-04-10T04:46:20.593Z] Checked if tokens are valid: true, expires at: 1744261749984
[debug] [2025-04-10T04:46:20.593Z] Checked if tokens are valid: true, expires at: 1744261749984
[debug] [2025-04-10T04:46:20.594Z] >>> [apiv2][query] POST https://cloudfunctions.googleapis.com/v2/projects/appointmentapplication-9c371/locations/us-central1/functions functionId=sendReminderEmail
[debug] [2025-04-10T04:46:20.594Z] >>> [apiv2][body] POST https://cloudfunctions.googleapis.com/v2/projects/appointmentapplication-9c371/locations/us-central1/functions {"name":"projects/appointmentapplication-9c371/locations/us-central1/functions/sendReminderEmail","buildConfig":{"runtime":"nodejs22","entryPoint":"sendReminderEmail","source":{"storageSource":{"bucket":"gcf-v2-uploads-191339301810.us-central1.cloudfunctions.appspot.com","object":"985e95ec-eb0d-40e1-b6cf-59f7d4c7cfe9.zip"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""}},"serviceConfig":{"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"appointmentapplication-9c371\",\"storageBucket\":\"appointmentapplication-9c371.firebasestorage.app\"}","GCLOUD_PROJECT":"appointmentapplication-9c371","EVENTARC_CLOUD_EVENT_SOURCE":"projects/appointmentapplication-9c371/locations/us-central1/services/sendReminderEmail","FUNCTION_SIGNATURE_TYPE":"cloudevent","FUNCTION_TARGET":"sendReminderEmail","LOG_EXECUTION_ID":"true"},"ingressSettings":null,"timeoutSeconds":null,"serviceAccountEmail":null,"availableMemory":"256Mi","minInstanceCount":null,"maxInstanceCount":null,"maxInstanceRequestConcurrency":80,"availableCpu":"1","vpcConnector":null,"vpcConnectorEgressSettings":null},"labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"b982c32cf013ca28743c0d71c9d0c491342adee8"},"eventTrigger":{"eventType":"google.cloud.firestore.document.v1.created","retryPolicy":"RETRY_POLICY_DO_NOT_RETRY","eventFilters":[{"attribute":"database","value":"(default)"},{"attribute":"namespace","value":"(default)"},{"attribute":"document","value":"schedules/{scheduleId}","operator":"match-path-pattern"}],"triggerRegion":"nam5"}}
[debug] [2025-04-10T04:46:24.297Z] <<< [apiv2][status] POST https://cloudfunctions.googleapis.com/v2/projects/appointmentapplication-9c371/locations/us-central1/functions 200
[debug] [2025-04-10T04:46:24.297Z] <<< [apiv2][body] POST https://cloudfunctions.googleapis.com/v2/projects/appointmentapplication-9c371/locations/us-central1/functions {"name":"projects/appointmentapplication-9c371/locations/us-central1/operations/operation-1744260381426-63265446e4169-45e9c880-c6dabc54","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-04-10T04:46:22.622006530Z","target":"projects/appointmentapplication-9c371/locations/us-central1/functions/sendReminderEmail","verb":"create","cancelRequested":false,"apiVersion":"v2"},"done":false}
[debug] [2025-04-10T04:46:24.298Z] Checked if tokens are valid: true, expires at: 1744261749984
[debug] [2025-04-10T04:46:24.298Z] Checked if tokens are valid: true, expires at: 1744261749984
[debug] [2025-04-10T04:46:24.298Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/appointmentapplication-9c371/locations/us-central1/operations/operation-1744260381426-63265446e4169-45e9c880-c6dabc54 [none]
[debug] [2025-04-10T04:46:25.279Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/appointmentapplication-9c371/locations/us-central1/operations/operation-1744260381426-63265446e4169-45e9c880-c6dabc54 200
[debug] [2025-04-10T04:46:25.279Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/appointmentapplication-9c371/locations/us-central1/operations/operation-1744260381426-63265446e4169-45e9c880-c6dabc54 {"name":"projects/appointmentapplication-9c371/locations/us-central1/operations/operation-1744260381426-63265446e4169-45e9c880-c6dabc54","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-04-10T04:46:22.622006530Z","target":"projects/appointmentapplication-9c371/locations/us-central1/functions/sendReminderEmail","verb":"create","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/appointmentapplication-9c371/locations/us-central1/functions/sendReminderEmail","buildConfig":{"runtime":"nodejs22","entryPoint":"sendReminderEmail","source":{"storageSource":{"bucket":"gcf-v2-sources-191339301810-us-central1","object":"sendReminderEmail/function-source.zip","generation":"1744260381675360"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"serviceAccount":"projects/appointmentapplication-9c371/serviceAccounts/191339301810-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/appointmentapplication-9c371/locations/us-central1/services/sendreminderemail","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"appointmentapplication-9c371\",\"storageBucket\":\"appointmentapplication-9c371.firebasestorage.app\"}","GCLOUD_PROJECT":"appointmentapplication-9c371","EVENTARC_CLOUD_EVENT_SOURCE":"projects/appointmentapplication-9c371/locations/us-central1/services/sendReminderEmail","FUNCTION_SIGNATURE_TYPE":"cloudevent","FUNCTION_TARGET":"sendReminderEmail","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"191339301810-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"eventTrigger":{"trigger":"projects/appointmentapplication-9c371/locations/nam5/triggers/sendreminderemail-491831","triggerRegion":"nam5","eventType":"google.cloud.firestore.document.v1.created","eventFilters":[{"attribute":"database","value":"(default)"},{"attribute":"namespace","value":"(default)"},{"attribute":"document","value":"schedules/{scheduleId}","operator":"match-path-pattern"}],"serviceAccountEmail":"191339301810-compute@developer.gserviceaccount.com","retryPolicy":"RETRY_POLICY_DO_NOT_RETRY"},"labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"b982c32cf013ca28743c0d71c9d0c491342adee8"},"environment":"GEN_2"},"stages":[{"name":"BUILD","state":"NOT_STARTED"},{"name":"SERVICE","state":"NOT_STARTED"},{"name":"TRIGGER","state":"NOT_STARTED"}],"operationType":"CREATE_FUNCTION"},"done":false}
[debug] [2025-04-10T04:46:25.781Z] [create-default-us-central1-sendReminderEmail] Retrying task index 0
[debug] [2025-04-10T04:46:25.782Z] Checked if tokens are valid: true, expires at: 1744261749984
[debug] [2025-04-10T04:46:25.782Z] Checked if tokens are valid: true, expires at: 1744261749984
[debug] [2025-04-10T04:46:25.782Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/appointmentapplication-9c371/locations/us-central1/operations/operation-1744260381426-63265446e4169-45e9c880-c6dabc54 [none]
[debug] [2025-04-10T04:46:26.772Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/appointmentapplication-9c371/locations/us-central1/operations/operation-1744260381426-63265446e4169-45e9c880-c6dabc54 200
[debug] [2025-04-10T04:46:26.772Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/appointmentapplication-9c371/locations/us-central1/operations/operation-1744260381426-63265446e4169-45e9c880-c6dabc54 {"name":"projects/appointmentapplication-9c371/locations/us-central1/operations/operation-1744260381426-63265446e4169-45e9c880-c6dabc54","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-04-10T04:46:22.622006530Z","target":"projects/appointmentapplication-9c371/locations/us-central1/functions/sendReminderEmail","verb":"create","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/appointmentapplication-9c371/locations/us-central1/functions/sendReminderEmail","buildConfig":{"runtime":"nodejs22","entryPoint":"sendReminderEmail","source":{"storageSource":{"bucket":"gcf-v2-sources-191339301810-us-central1","object":"sendReminderEmail/function-source.zip","generation":"1744260381675360"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"serviceAccount":"projects/appointmentapplication-9c371/serviceAccounts/191339301810-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/appointmentapplication-9c371/locations/us-central1/services/sendreminderemail","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"appointmentapplication-9c371\",\"storageBucket\":\"appointmentapplication-9c371.firebasestorage.app\"}","GCLOUD_PROJECT":"appointmentapplication-9c371","EVENTARC_CLOUD_EVENT_SOURCE":"projects/appointmentapplication-9c371/locations/us-central1/services/sendReminderEmail","FUNCTION_SIGNATURE_TYPE":"cloudevent","FUNCTION_TARGET":"sendReminderEmail","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"191339301810-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"eventTrigger":{"trigger":"projects/appointmentapplication-9c371/locations/nam5/triggers/sendreminderemail-491831","triggerRegion":"nam5","eventType":"google.cloud.firestore.document.v1.created","eventFilters":[{"attribute":"database","value":"(default)"},{"attribute":"namespace","value":"(default)"},{"attribute":"document","value":"schedules/{scheduleId}","operator":"match-path-pattern"}],"serviceAccountEmail":"191339301810-compute@developer.gserviceaccount.com","retryPolicy":"RETRY_POLICY_DO_NOT_RETRY"},"labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"b982c32cf013ca28743c0d71c9d0c491342adee8"},"environment":"GEN_2"},"stages":[{"name":"BUILD","state":"NOT_STARTED"},{"name":"SERVICE","state":"NOT_STARTED"},{"name":"TRIGGER","state":"NOT_STARTED"}],"operationType":"CREATE_FUNCTION"},"done":false}
[debug] [2025-04-10T04:46:27.774Z] [create-default-us-central1-sendReminderEmail] Retrying task index 0
[debug] [2025-04-10T04:46:27.774Z] Checked if tokens are valid: true, expires at: 1744261749984
[debug] [2025-04-10T04:46:27.774Z] Checked if tokens are valid: true, expires at: 1744261749984
[debug] [2025-04-10T04:46:27.775Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/appointmentapplication-9c371/locations/us-central1/operations/operation-1744260381426-63265446e4169-45e9c880-c6dabc54 [none]
[debug] [2025-04-10T04:46:28.758Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/appointmentapplication-9c371/locations/us-central1/operations/operation-1744260381426-63265446e4169-45e9c880-c6dabc54 200
[debug] [2025-04-10T04:46:28.759Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/appointmentapplication-9c371/locations/us-central1/operations/operation-1744260381426-63265446e4169-45e9c880-c6dabc54 {"name":"projects/appointmentapplication-9c371/locations/us-central1/operations/operation-1744260381426-63265446e4169-45e9c880-c6dabc54","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-04-10T04:46:22.622006530Z","target":"projects/appointmentapplication-9c371/locations/us-central1/functions/sendReminderEmail","verb":"create","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/appointmentapplication-9c371/locations/us-central1/functions/sendReminderEmail","buildConfig":{"runtime":"nodejs22","entryPoint":"sendReminderEmail","source":{"storageSource":{"bucket":"gcf-v2-sources-191339301810-us-central1","object":"sendReminderEmail/function-source.zip","generation":"1744260381675360"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"serviceAccount":"projects/appointmentapplication-9c371/serviceAccounts/191339301810-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/appointmentapplication-9c371/locations/us-central1/services/sendreminderemail","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"appointmentapplication-9c371\",\"storageBucket\":\"appointmentapplication-9c371.firebasestorage.app\"}","GCLOUD_PROJECT":"appointmentapplication-9c371","EVENTARC_CLOUD_EVENT_SOURCE":"projects/appointmentapplication-9c371/locations/us-central1/services/sendReminderEmail","FUNCTION_SIGNATURE_TYPE":"cloudevent","FUNCTION_TARGET":"sendReminderEmail","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"191339301810-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"eventTrigger":{"trigger":"projects/appointmentapplication-9c371/locations/nam5/triggers/sendreminderemail-491831","triggerRegion":"nam5","eventType":"google.cloud.firestore.document.v1.created","eventFilters":[{"attribute":"database","value":"(default)"},{"attribute":"namespace","value":"(default)"},{"attribute":"document","value":"schedules/{scheduleId}","operator":"match-path-pattern"}],"serviceAccountEmail":"191339301810-compute@developer.gserviceaccount.com","retryPolicy":"RETRY_POLICY_DO_NOT_RETRY"},"labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"b982c32cf013ca28743c0d71c9d0c491342adee8"},"environment":"GEN_2"},"stages":[{"name":"BUILD","state":"NOT_STARTED"},{"name":"SERVICE","state":"NOT_STARTED"},{"name":"TRIGGER","state":"NOT_STARTED"}],"operationType":"CREATE_FUNCTION"},"done":false}
[debug] [2025-04-10T04:46:30.761Z] [create-default-us-central1-sendReminderEmail] Retrying task index 0
[debug] [2025-04-10T04:46:30.761Z] Checked if tokens are valid: true, expires at: 1744261749984
[debug] [2025-04-10T04:46:30.762Z] Checked if tokens are valid: true, expires at: 1744261749984
[debug] [2025-04-10T04:46:30.762Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/appointmentapplication-9c371/locations/us-central1/operations/operation-1744260381426-63265446e4169-45e9c880-c6dabc54 [none]
[debug] [2025-04-10T04:46:31.718Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/appointmentapplication-9c371/locations/us-central1/operations/operation-1744260381426-63265446e4169-45e9c880-c6dabc54 200
[debug] [2025-04-10T04:46:31.718Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/appointmentapplication-9c371/locations/us-central1/operations/operation-1744260381426-63265446e4169-45e9c880-c6dabc54 {"name":"projects/appointmentapplication-9c371/locations/us-central1/operations/operation-1744260381426-63265446e4169-45e9c880-c6dabc54","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-04-10T04:46:22.622006530Z","target":"projects/appointmentapplication-9c371/locations/us-central1/functions/sendReminderEmail","verb":"create","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/appointmentapplication-9c371/locations/us-central1/functions/sendReminderEmail","buildConfig":{"runtime":"nodejs22","entryPoint":"sendReminderEmail","source":{"storageSource":{"bucket":"gcf-v2-sources-191339301810-us-central1","object":"sendReminderEmail/function-source.zip","generation":"1744260381675360"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"serviceAccount":"projects/appointmentapplication-9c371/serviceAccounts/191339301810-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/appointmentapplication-9c371/locations/us-central1/services/sendreminderemail","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"appointmentapplication-9c371\",\"storageBucket\":\"appointmentapplication-9c371.firebasestorage.app\"}","GCLOUD_PROJECT":"appointmentapplication-9c371","EVENTARC_CLOUD_EVENT_SOURCE":"projects/appointmentapplication-9c371/locations/us-central1/services/sendReminderEmail","FUNCTION_SIGNATURE_TYPE":"cloudevent","FUNCTION_TARGET":"sendReminderEmail","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"191339301810-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"eventTrigger":{"trigger":"projects/appointmentapplication-9c371/locations/nam5/triggers/sendreminderemail-491831","triggerRegion":"nam5","eventType":"google.cloud.firestore.document.v1.created","eventFilters":[{"attribute":"database","value":"(default)"},{"attribute":"namespace","value":"(default)"},{"attribute":"document","value":"schedules/{scheduleId}","operator":"match-path-pattern"}],"serviceAccountEmail":"191339301810-compute@developer.gserviceaccount.com","retryPolicy":"RETRY_POLICY_DO_NOT_RETRY"},"labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"b982c32cf013ca28743c0d71c9d0c491342adee8"},"environment":"GEN_2"},"stages":[{"name":"BUILD","state":"NOT_STARTED"},{"name":"SERVICE","state":"NOT_STARTED"},{"name":"TRIGGER","state":"NOT_STARTED"}],"operationType":"CREATE_FUNCTION"},"done":false}
[debug] [2025-04-10T04:46:35.719Z] [create-default-us-central1-sendReminderEmail] Retrying task index 0
[debug] [2025-04-10T04:46:35.720Z] Checked if tokens are valid: true, expires at: 1744261749984
[debug] [2025-04-10T04:46:35.720Z] Checked if tokens are valid: true, expires at: 1744261749984
[debug] [2025-04-10T04:46:35.720Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/appointmentapplication-9c371/locations/us-central1/operations/operation-1744260381426-63265446e4169-45e9c880-c6dabc54 [none]
[debug] [2025-04-10T04:46:36.735Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/appointmentapplication-9c371/locations/us-central1/operations/operation-1744260381426-63265446e4169-45e9c880-c6dabc54 200
[debug] [2025-04-10T04:46:36.736Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/appointmentapplication-9c371/locations/us-central1/operations/operation-1744260381426-63265446e4169-45e9c880-c6dabc54 {"name":"projects/appointmentapplication-9c371/locations/us-central1/operations/operation-1744260381426-63265446e4169-45e9c880-c6dabc54","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-04-10T04:46:22.622006530Z","target":"projects/appointmentapplication-9c371/locations/us-central1/functions/sendReminderEmail","verb":"create","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/appointmentapplication-9c371/locations/us-central1/functions/sendReminderEmail","buildConfig":{"runtime":"nodejs22","entryPoint":"sendReminderEmail","source":{"storageSource":{"bucket":"gcf-v2-sources-191339301810-us-central1","object":"sendReminderEmail/function-source.zip","generation":"1744260381675360"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"serviceAccount":"projects/appointmentapplication-9c371/serviceAccounts/191339301810-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/appointmentapplication-9c371/locations/us-central1/services/sendreminderemail","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"appointmentapplication-9c371\",\"storageBucket\":\"appointmentapplication-9c371.firebasestorage.app\"}","GCLOUD_PROJECT":"appointmentapplication-9c371","EVENTARC_CLOUD_EVENT_SOURCE":"projects/appointmentapplication-9c371/locations/us-central1/services/sendReminderEmail","FUNCTION_SIGNATURE_TYPE":"cloudevent","FUNCTION_TARGET":"sendReminderEmail","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"191339301810-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"eventTrigger":{"trigger":"projects/appointmentapplication-9c371/locations/nam5/triggers/sendreminderemail-491831","triggerRegion":"nam5","eventType":"google.cloud.firestore.document.v1.created","eventFilters":[{"attribute":"database","value":"(default)"},{"attribute":"namespace","value":"(default)"},{"attribute":"document","value":"schedules/{scheduleId}","operator":"match-path-pattern"}],"serviceAccountEmail":"191339301810-compute@developer.gserviceaccount.com","retryPolicy":"RETRY_POLICY_DO_NOT_RETRY"},"labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"b982c32cf013ca28743c0d71c9d0c491342adee8"},"environment":"GEN_2"},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/191339301810/locations/us-central1/builds/9198c839-4644-41f1-ac37-db607881e260","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/9198c839-4644-41f1-ac37-db607881e260?project=191339301810"},{"name":"SERVICE","state":"NOT_STARTED"},{"name":"TRIGGER","state":"NOT_STARTED"}],"operationType":"CREATE_FUNCTION","buildName":"projects/191339301810/locations/us-central1/builds/9198c839-4644-41f1-ac37-db607881e260"},"done":false}
[debug] [2025-04-10T04:46:44.737Z] [create-default-us-central1-sendReminderEmail] Retrying task index 0
[debug] [2025-04-10T04:46:44.738Z] Checked if tokens are valid: true, expires at: 1744261749984
[debug] [2025-04-10T04:46:44.738Z] Checked if tokens are valid: true, expires at: 1744261749984
[debug] [2025-04-10T04:46:44.738Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/appointmentapplication-9c371/locations/us-central1/operations/operation-1744260381426-63265446e4169-45e9c880-c6dabc54 [none]
[debug] [2025-04-10T04:46:50.129Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/appointmentapplication-9c371/locations/us-central1/operations/operation-1744260381426-63265446e4169-45e9c880-c6dabc54 200
[debug] [2025-04-10T04:46:50.129Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/appointmentapplication-9c371/locations/us-central1/operations/operation-1744260381426-63265446e4169-45e9c880-c6dabc54 {"name":"projects/appointmentapplication-9c371/locations/us-central1/operations/operation-1744260381426-63265446e4169-45e9c880-c6dabc54","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-04-10T04:46:22.622006530Z","target":"projects/appointmentapplication-9c371/locations/us-central1/functions/sendReminderEmail","verb":"create","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/appointmentapplication-9c371/locations/us-central1/functions/sendReminderEmail","buildConfig":{"runtime":"nodejs22","entryPoint":"sendReminderEmail","source":{"storageSource":{"bucket":"gcf-v2-sources-191339301810-us-central1","object":"sendReminderEmail/function-source.zip","generation":"1744260381675360"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"serviceAccount":"projects/appointmentapplication-9c371/serviceAccounts/191339301810-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/appointmentapplication-9c371/locations/us-central1/services/sendreminderemail","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"appointmentapplication-9c371\",\"storageBucket\":\"appointmentapplication-9c371.firebasestorage.app\"}","GCLOUD_PROJECT":"appointmentapplication-9c371","EVENTARC_CLOUD_EVENT_SOURCE":"projects/appointmentapplication-9c371/locations/us-central1/services/sendReminderEmail","FUNCTION_SIGNATURE_TYPE":"cloudevent","FUNCTION_TARGET":"sendReminderEmail","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"191339301810-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"eventTrigger":{"trigger":"projects/appointmentapplication-9c371/locations/nam5/triggers/sendreminderemail-491831","triggerRegion":"nam5","eventType":"google.cloud.firestore.document.v1.created","eventFilters":[{"attribute":"database","value":"(default)"},{"attribute":"namespace","value":"(default)"},{"attribute":"document","value":"schedules/{scheduleId}","operator":"match-path-pattern"}],"serviceAccountEmail":"191339301810-compute@developer.gserviceaccount.com","retryPolicy":"RETRY_POLICY_DO_NOT_RETRY"},"labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"b982c32cf013ca28743c0d71c9d0c491342adee8"},"environment":"GEN_2"},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/191339301810/locations/us-central1/builds/9198c839-4644-41f1-ac37-db607881e260","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/9198c839-4644-41f1-ac37-db607881e260?project=191339301810"},{"name":"SERVICE","state":"NOT_STARTED"},{"name":"TRIGGER","state":"NOT_STARTED"}],"operationType":"CREATE_FUNCTION","buildName":"projects/191339301810/locations/us-central1/builds/9198c839-4644-41f1-ac37-db607881e260"},"done":false}
[debug] [2025-04-10T04:47:00.131Z] [create-default-us-central1-sendReminderEmail] Retrying task index 0
[debug] [2025-04-10T04:47:00.132Z] Checked if tokens are valid: true, expires at: 1744261749984
[debug] [2025-04-10T04:47:00.132Z] Checked if tokens are valid: true, expires at: 1744261749984
[debug] [2025-04-10T04:47:00.132Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/appointmentapplication-9c371/locations/us-central1/operations/operation-1744260381426-63265446e4169-45e9c880-c6dabc54 [none]
[debug] [2025-04-10T04:47:05.501Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/appointmentapplication-9c371/locations/us-central1/operations/operation-1744260381426-63265446e4169-45e9c880-c6dabc54 200
[debug] [2025-04-10T04:47:05.501Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/appointmentapplication-9c371/locations/us-central1/operations/operation-1744260381426-63265446e4169-45e9c880-c6dabc54 {"name":"projects/appointmentapplication-9c371/locations/us-central1/operations/operation-1744260381426-63265446e4169-45e9c880-c6dabc54","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-04-10T04:46:22.622006530Z","target":"projects/appointmentapplication-9c371/locations/us-central1/functions/sendReminderEmail","verb":"create","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/appointmentapplication-9c371/locations/us-central1/functions/sendReminderEmail","buildConfig":{"runtime":"nodejs22","entryPoint":"sendReminderEmail","source":{"storageSource":{"bucket":"gcf-v2-sources-191339301810-us-central1","object":"sendReminderEmail/function-source.zip","generation":"1744260381675360"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"serviceAccount":"projects/appointmentapplication-9c371/serviceAccounts/191339301810-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/appointmentapplication-9c371/locations/us-central1/services/sendreminderemail","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"appointmentapplication-9c371\",\"storageBucket\":\"appointmentapplication-9c371.firebasestorage.app\"}","GCLOUD_PROJECT":"appointmentapplication-9c371","EVENTARC_CLOUD_EVENT_SOURCE":"projects/appointmentapplication-9c371/locations/us-central1/services/sendReminderEmail","FUNCTION_SIGNATURE_TYPE":"cloudevent","FUNCTION_TARGET":"sendReminderEmail","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"191339301810-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"eventTrigger":{"trigger":"projects/appointmentapplication-9c371/locations/nam5/triggers/sendreminderemail-491831","triggerRegion":"nam5","eventType":"google.cloud.firestore.document.v1.created","eventFilters":[{"attribute":"database","value":"(default)"},{"attribute":"namespace","value":"(default)"},{"attribute":"document","value":"schedules/{scheduleId}","operator":"match-path-pattern"}],"serviceAccountEmail":"191339301810-compute@developer.gserviceaccount.com","retryPolicy":"RETRY_POLICY_DO_NOT_RETRY"},"labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"b982c32cf013ca28743c0d71c9d0c491342adee8"},"environment":"GEN_2"},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/191339301810/locations/us-central1/builds/9198c839-4644-41f1-ac37-db607881e260","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/9198c839-4644-41f1-ac37-db607881e260?project=191339301810"},{"name":"SERVICE","state":"NOT_STARTED"},{"name":"TRIGGER","state":"NOT_STARTED"}],"operationType":"CREATE_FUNCTION","buildName":"projects/191339301810/locations/us-central1/builds/9198c839-4644-41f1-ac37-db607881e260"},"done":false}
[debug] [2025-04-10T04:47:15.502Z] [create-default-us-central1-sendReminderEmail] Retrying task index 0
[debug] [2025-04-10T04:47:15.503Z] Checked if tokens are valid: true, expires at: 1744261749984
[debug] [2025-04-10T04:47:15.503Z] Checked if tokens are valid: true, expires at: 1744261749984
[debug] [2025-04-10T04:47:15.504Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/appointmentapplication-9c371/locations/us-central1/operations/operation-1744260381426-63265446e4169-45e9c880-c6dabc54 [none]
[debug] [2025-04-10T04:47:20.895Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/appointmentapplication-9c371/locations/us-central1/operations/operation-1744260381426-63265446e4169-45e9c880-c6dabc54 200
[debug] [2025-04-10T04:47:20.895Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/appointmentapplication-9c371/locations/us-central1/operations/operation-1744260381426-63265446e4169-45e9c880-c6dabc54 {"name":"projects/appointmentapplication-9c371/locations/us-central1/operations/operation-1744260381426-63265446e4169-45e9c880-c6dabc54","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-04-10T04:46:22.622006530Z","endTime":"2025-04-10T04:47:18.470149466Z","target":"projects/appointmentapplication-9c371/locations/us-central1/functions/sendReminderEmail","verb":"create","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/appointmentapplication-9c371/locations/us-central1/functions/sendReminderEmail","buildConfig":{"runtime":"nodejs22","entryPoint":"sendReminderEmail","source":{"storageSource":{"bucket":"gcf-v2-sources-191339301810-us-central1","object":"sendReminderEmail/function-source.zip","generation":"1744260381675360"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"serviceAccount":"projects/appointmentapplication-9c371/serviceAccounts/191339301810-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/appointmentapplication-9c371/locations/us-central1/services/sendreminderemail","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"appointmentapplication-9c371\",\"storageBucket\":\"appointmentapplication-9c371.firebasestorage.app\"}","GCLOUD_PROJECT":"appointmentapplication-9c371","EVENTARC_CLOUD_EVENT_SOURCE":"projects/appointmentapplication-9c371/locations/us-central1/services/sendReminderEmail","FUNCTION_SIGNATURE_TYPE":"cloudevent","FUNCTION_TARGET":"sendReminderEmail","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"191339301810-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"eventTrigger":{"trigger":"projects/appointmentapplication-9c371/locations/nam5/triggers/sendreminderemail-491831","triggerRegion":"nam5","eventType":"google.cloud.firestore.document.v1.created","eventFilters":[{"attribute":"database","value":"(default)"},{"attribute":"namespace","value":"(default)"},{"attribute":"document","value":"schedules/{scheduleId}","operator":"match-path-pattern"}],"serviceAccountEmail":"191339301810-compute@developer.gserviceaccount.com","retryPolicy":"RETRY_POLICY_DO_NOT_RETRY"},"labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"b982c32cf013ca28743c0d71c9d0c491342adee8"},"environment":"GEN_2"},"stages":[{"name":"ARTIFACT_REGISTRY","message":"Deleting function artifacts in Artifact Registry","state":"COMPLETE"},{"name":"SERVICE","message":"Deleting Cloud Run service","state":"COMPLETE","resource":"projects/appointmentapplication-9c371/locations/us-central1/services/sendreminderemail"},{"name":"TRIGGER","message":"Deleting Eventarc trigger","state":"COMPLETE","resource":"projects/appointmentapplication-9c371/locations/nam5/triggers/sendreminderemail-491831"}],"operationType":"CREATE_FUNCTION"},"done":true,"error":{"code":3,"message":"Build failed with status: FAILURE and message: npm error code EUSAGE\nnpm error\nnpm error `npm ci` can only install packages when your package.json and package-lock.json or npm-shrinkwrap.json are in sync. Please update your lock file with `npm install` before continuing.\nnpm error\nnpm error Invalid: lock file's firebase-admin@13.2.0 does not satisfy firebase-admin@11.11.1\nnpm error Invalid: lock file's firebase-functions@6.3.2 does not satisfy firebase-functions@4.9.0\nnpm error Invalid: lock file's @fastify/busboy@3.1.1 does not satisfy @fastify/busboy@1.2.1\nnpm error Invalid: lock file's @firebase/database-compat@2.0.5 does not satisfy @firebase/database-compat@0.3.4\nnpm error Invalid: lock file's @firebase/database-types@1.0.10 does not satisfy @firebase/database-types@0.10.4\nnpm error Invalid: lock file's @google-cloud/firestore@7.11.0 does not satisfy @google-cloud/firestore@6.8.0\nnpm error Invalid: lock file's @google-cloud/storage@7.16.0 does not satisfy @google-cloud/storage@6.12.0\nnpm error Invalid: lock file's uuid@11.1.0 does not satisfy uuid@9.0.1\nnpm error Missing: text-decoding@1.0.0 from lock file\nnpm error Invalid: lock file's @firebase/component@0.6.13 does not satisfy @firebase/component@0.6.4\nnpm error Invalid: lock file's @firebase/database@1.0.14 does not satisfy @firebase/database@0.14.4\nnpm error Invalid: lock file's @firebase/logger@0.4.4 does not satisfy @firebase/logger@0.4.0\nnpm error Invalid: lock file's @firebase/util@1.11.0 does not satisfy @firebase/util@1.9.3\nnpm error Invalid: lock file's @firebase/auth-interop-types@0.2.4 does not satisfy @firebase/auth-interop-types@0.2.1\nnpm error Invalid: lock file's @firebase/app-types@0.9.3 does not satisfy @firebase/app-types@0.9.0\nnpm error Invalid: lock file's google-gax@4.4.1 does not satisfy google-gax@3.6.1\nnpm error Invalid: lock file's @google-cloud/paginator@5.0.2 does not satisfy @google-cloud/paginator@3.0.7\nnpm error Invalid: lock file's @google-cloud/projectify@4.0.0 does not satisfy @google-cloud/projectify@3.0.0\nnpm error Invalid: lock file's @google-cloud/promisify@4.0.0 does not satisfy @google-cloud/promisify@3.0.1\nnpm error Missing: compressible@2.0.18 from lock file\nnpm error Missing: ent@2.2.2 from lock file\nnpm error Invalid: lock file's gaxios@6.7.1 does not satisfy gaxios@5.1.3\nnpm error Invalid: lock file's google-auth-library@9.15.1 does not satisfy google-auth-library@8.9.0\nnpm error Invalid: lock file's retry-request@7.0.2 does not satisfy retry-request@5.0.2\nnpm error Invalid: lock file's teeny-request@9.0.0 does not satisfy teeny-request@8.0.3\nnpm error Missing: punycode@1.4.1 from lock file\nnpm error Missing: safe-regex-test@1.1.0 from lock file\nnpm error Missing: @types/express@4.17.3 from lock file\nnpm error Invalid: lock file's https-proxy-agent@7.0.6 does not satisfy https-proxy-agent@5.0.1\nnpm error Missing: fast-text-encoding@1.0.6 from lock file\nnpm error Invalid: lock file's gcp-metadata@6.1.1 does not satisfy gcp-metadata@5.3.0\nnpm error Invalid: lock file's gtoken@7.1.0 does not satisfy gtoken@6.1.2\nnpm error Missing: lru-cache@6.0.0 from lock file\nnpm error Invalid: lock file's @grpc/grpc-js@1.13.2 does not satisfy @grpc/grpc-js@1.8.22\nnpm error Missing: @types/rimraf@3.0.2 from lock file\nnpm error Missing: is-stream-ended@0.1.4 from lock file\nnpm error Invalid: lock file's proto3-json-serializer@2.0.2 does not satisfy proto3-json-serializer@1.1.1\nnpm error Missing: protobufjs@7.2.4 from lock file\nnpm error Missing: protobufjs-cli@1.1.1 from lock file\nnpm error Missing: @types/glob@8.1.0 from lock file\nnpm error Missing: @types/minimatch@5.1.2 from lock file\nnpm error Missing: google-p12-pem@4.0.1 from lock file\nnpm error Invalid: lock file's agent-base@7.1.3 does not satisfy agent-base@6.0.2\nnpm error Missing: debug@4.4.0 from lock file\nnpm error Missing: escodegen@1.14.3 from lock file\nnpm error Missing: espree@9.6.1 from lock file\nnpm error Missing: estraverse@5.3.0 from lock file\nnpm error Missing: glob@8.1.0 from lock file\nnpm error Missing: jsdoc@4.0.4 from lock file\nnpm error Missing: minimist@1.2.8 from lock file\nnpm error Missing: semver@7.7.1 from lock file\nnpm error Missing: tmp@0.2.3 from lock file\nnpm error Missing: uglify-js@3.19.3 from lock file\nnpm error Missing: estraverse@4.3.0 from lock file\nnpm error Missing: esutils@2.0.3 from lock file\nnpm error Missing: optionator@0.8.3 from lock file\nnpm error Missing: acorn@8.14.1 from lock file\nnpm error Missing: acorn-jsx@5.3.2 from lock file\nnpm error Missing: eslint-visitor-keys@3.4.3 from lock file\nnpm error Missing: @jsdoc/salty@0.2.9 from lock file\nnpm error Missing: @types/markdown-it@14.1.2 from lock file\nnpm error Missing: bluebird@3.7.2 from lock file\nnpm error Missing: catharsis@0.9.0 from lock file\nnpm error Missing: js2xmlparser@4.0.2 from lock file\nnpm error Missing: klaw@3.0.0 from lock file\nnpm error Missing: markdown-it@14.1.0 from lock file\nnpm error Missing: markdown-it-anchor@8.6.7 from lock file\nnpm error Missing: marked@4.3.0 from lock file\nnpm error Missing: mkdirp@1.0.4 from lock file\nnpm error Missing: requizzle@0.2.4 from lock file\nnpm error Missing: underscore@1.13.7 from lock file\nnpm error Missing: @types/linkify-it@5.0.0 from lock file\nnpm error Missing: @types/mdurl@2.0.0 from lock file\nnpm error Missing: xmlcreate@2.0.4 from lock file\nnpm error Missing: argparse@2.0.1 from lock file\nnpm error Missing: entities@4.5.0 from lock file\nnpm error Missing: linkify-it@5.0.0 from lock file\nnpm error Missing: mdurl@2.0.0 from lock file\nnpm error Missing: punycode.js@2.3.1 from lock file\nnpm error Missing: uc.micro@2.1.0 from lock file\nnpm error Missing: deep-is@0.1.4 from lock file\nnpm error Missing: fast-levenshtein@2.0.6 from lock file\nnpm error Missing: levn@0.3.0 from lock file\nnpm error Missing: prelude-ls@1.1.2 from lock file\nnpm error Missing: type-check@0.3.2 from lock file\nnpm error Missing: word-wrap@1.2.5 from lock file\nnpm error Missing: debug@4.4.0 from lock file\nnpm error Missing: is-regex@1.2.1 from lock file\nnpm error Missing: ms@2.1.3 from lock file\nnpm error Missing: yallist@4.0.0 from lock file\nnpm error Missing: minimatch@5.1.6 from lock file\nnpm error Missing: brace-expansion@2.0.1 from lock file\nnpm error Missing: ms@2.1.3 from lock file\nnpm error\nnpm error Clean install a project\nnpm error\nnpm error Usage:\nnpm error npm ci\nnpm error\nnpm error Options:\nnpm error [--install-strategy <hoisted|nested|shallow|linked>] [--legacy-bundling]\nnpm error [--global-style] [--omit <dev|optional|peer> [--omit <dev|optional|peer> ...]]\nnpm error [--include <prod|dev|optional|peer> [--include <prod|dev|optional|peer> ...]]\nnpm error [--strict-peer-deps] [--foreground-scripts] [--ignore-scripts] [--no-audit]\nnpm error [--no-bin-links] [--no-fund] [--dry-run]\nnpm error [-w|--workspace <workspace-name> [-w|--workspace <workspace-name> ...]]\nnpm error [-ws|--workspaces] [--include-workspace-root] [--install-links]\nnpm error\nnpm error aliases: clean-install, ic, install-clean, isntall-clean\nnpm error\nnpm error Run \"npm help ci\" for more info\nnpm error A complete log of this run can be found in: /www-data-home/.npm/_logs/2025-04-10T04_46_51_707Z-debug-0.log. For more details see the logs at https://console.cloud.google.com/cloud-build/builds;region=us-central1/9198c839-4644-41f1-ac37-db607881e260?project=191339301810."}}
[debug] [2025-04-10T04:47:20.896Z] Got source token undefined for region us-central1
[error] Build failed with status: FAILURE and message: npm error code EUSAGE
npm error
npm error `npm ci` can only install packages when your package.json and package-lock.json or npm-shrinkwrap.json are in sync. Please update your lock file with `npm install` before continuing.
npm error
npm error Invalid: lock file's firebase-admin@13.2.0 does not satisfy firebase-admin@11.11.1
npm error Invalid: lock file's firebase-functions@6.3.2 does not satisfy firebase-functions@4.9.0
npm error Invalid: lock file's @fastify/busboy@3.1.1 does not satisfy @fastify/busboy@1.2.1
npm error Invalid: lock file's @firebase/database-compat@2.0.5 does not satisfy @firebase/database-compat@0.3.4
npm error Invalid: lock file's @firebase/database-types@1.0.10 does not satisfy @firebase/database-types@0.10.4
npm error Invalid: lock file's @google-cloud/firestore@7.11.0 does not satisfy @google-cloud/firestore@6.8.0
npm error Invalid: lock file's @google-cloud/storage@7.16.0 does not satisfy @google-cloud/storage@6.12.0
npm error Invalid: lock file's uuid@11.1.0 does not satisfy uuid@9.0.1
npm error Missing: text-decoding@1.0.0 from lock file
npm error Invalid: lock file's @firebase/component@0.6.13 does not satisfy @firebase/component@0.6.4
npm error Invalid: lock file's @firebase/database@1.0.14 does not satisfy @firebase/database@0.14.4
npm error Invalid: lock file's @firebase/logger@0.4.4 does not satisfy @firebase/logger@0.4.0
npm error Invalid: lock file's @firebase/util@1.11.0 does not satisfy @firebase/util@1.9.3
npm error Invalid: lock file's @firebase/auth-interop-types@0.2.4 does not satisfy @firebase/auth-interop-types@0.2.1
npm error Invalid: lock file's @firebase/app-types@0.9.3 does not satisfy @firebase/app-types@0.9.0
npm error Invalid: lock file's google-gax@4.4.1 does not satisfy google-gax@3.6.1
npm error Invalid: lock file's @google-cloud/paginator@5.0.2 does not satisfy @google-cloud/paginator@3.0.7
npm error Invalid: lock file's @google-cloud/projectify@4.0.0 does not satisfy @google-cloud/projectify@3.0.0
npm error Invalid: lock file's @google-cloud/promisify@4.0.0 does not satisfy @google-cloud/promisify@3.0.1
npm error Missing: compressible@2.0.18 from lock file
npm error Missing: ent@2.2.2 from lock file
npm error Invalid: lock file's gaxios@6.7.1 does not satisfy gaxios@5.1.3
npm error Invalid: lock file's google-auth-library@9.15.1 does not satisfy google-auth-library@8.9.0
npm error Invalid: lock file's retry-request@7.0.2 does not satisfy retry-request@5.0.2
npm error Invalid: lock file's teeny-request@9.0.0 does not satisfy teeny-request@8.0.3
npm error Missing: punycode@1.4.1 from lock file
npm error Missing: safe-regex-test@1.1.0 from lock file
npm error Missing: @types/express@4.17.3 from lock file
npm error Invalid: lock file's https-proxy-agent@7.0.6 does not satisfy https-proxy-agent@5.0.1
npm error Missing: fast-text-encoding@1.0.6 from lock file
npm error Invalid: lock file's gcp-metadata@6.1.1 does not satisfy gcp-metadata@5.3.0
npm error Invalid: lock file's gtoken@7.1.0 does not satisfy gtoken@6.1.2
npm error Missing: lru-cache@6.0.0 from lock file
npm error Invalid: lock file's @grpc/grpc-js@1.13.2 does not satisfy @grpc/grpc-js@1.8.22
npm error Missing: @types/rimraf@3.0.2 from lock file
npm error Missing: is-stream-ended@0.1.4 from lock file
npm error Invalid: lock file's proto3-json-serializer@2.0.2 does not satisfy proto3-json-serializer@1.1.1
npm error Missing: protobufjs@7.2.4 from lock file
npm error Missing: protobufjs-cli@1.1.1 from lock file
npm error Missing: @types/glob@8.1.0 from lock file
npm error Missing: @types/minimatch@5.1.2 from lock file
npm error Missing: google-p12-pem@4.0.1 from lock file
npm error Invalid: lock file's agent-base@7.1.3 does not satisfy agent-base@6.0.2
npm error Missing: debug@4.4.0 from lock file
npm error Missing: escodegen@1.14.3 from lock file
npm error Missing: espree@9.6.1 from lock file
npm error Missing: estraverse@5.3.0 from lock file
npm error Missing: glob@8.1.0 from lock file
npm error Missing: jsdoc@4.0.4 from lock file
npm error Missing: minimist@1.2.8 from lock file
npm error Missing: semver@7.7.1 from lock file
npm error Missing: tmp@0.2.3 from lock file
npm error Missing: uglify-js@3.19.3 from lock file
npm error Missing: estraverse@4.3.0 from lock file
npm error Missing: esutils@2.0.3 from lock file
npm error Missing: optionator@0.8.3 from lock file
npm error Missing: acorn@8.14.1 from lock file
npm error Missing: acorn-jsx@5.3.2 from lock file
npm error Missing: eslint-visitor-keys@3.4.3 from lock file
npm error Missing: @jsdoc/salty@0.2.9 from lock file
npm error Missing: @types/markdown-it@14.1.2 from lock file
npm error Missing: bluebird@3.7.2 from lock file
npm error Missing: catharsis@0.9.0 from lock file
npm error Missing: js2xmlparser@4.0.2 from lock file
npm error Missing: klaw@3.0.0 from lock file
npm error Missing: markdown-it@14.1.0 from lock file
npm error Missing: markdown-it-anchor@8.6.7 from lock file
npm error Missing: marked@4.3.0 from lock file
npm error Missing: mkdirp@1.0.4 from lock file
npm error Missing: requizzle@0.2.4 from lock file
npm error Missing: underscore@1.13.7 from lock file
npm error Missing: @types/linkify-it@5.0.0 from lock file
npm error Missing: @types/mdurl@2.0.0 from lock file
npm error Missing: xmlcreate@2.0.4 from lock file
npm error Missing: argparse@2.0.1 from lock file
npm error Missing: entities@4.5.0 from lock file
npm error Missing: linkify-it@5.0.0 from lock file
npm error Missing: mdurl@2.0.0 from lock file
npm error Missing: punycode.js@2.3.1 from lock file
npm error Missing: uc.micro@2.1.0 from lock file
npm error Missing: deep-is@0.1.4 from lock file
npm error Missing: fast-levenshtein@2.0.6 from lock file
npm error Missing: levn@0.3.0 from lock file
npm error Missing: prelude-ls@1.1.2 from lock file
npm error Missing: type-check@0.3.2 from lock file
npm error Missing: word-wrap@1.2.5 from lock file
npm error Missing: debug@4.4.0 from lock file
npm error Missing: is-regex@1.2.1 from lock file
npm error Missing: ms@2.1.3 from lock file
npm error Missing: yallist@4.0.0 from lock file
npm error Missing: minimatch@5.1.6 from lock file
npm error Missing: brace-expansion@2.0.1 from lock file
npm error Missing: ms@2.1.3 from lock file
npm error
npm error Clean install a project
npm error
npm error Usage:
npm error npm ci
npm error
npm error Options:
npm error [--install-strategy <hoisted|nested|shallow|linked>] [--legacy-bundling]
npm error [--global-style] [--omit <dev|optional|peer> [--omit <dev|optional|peer> ...]]
npm error [--include <prod|dev|optional|peer> [--include <prod|dev|optional|peer> ...]]
npm error [--strict-peer-deps] [--foreground-scripts] [--ignore-scripts] [--no-audit]
npm error [--no-bin-links] [--no-fund] [--dry-run]
npm error [-w|--workspace <workspace-name> [-w|--workspace <workspace-name> ...]]
npm error [-ws|--workspaces] [--include-workspace-root] [--install-links]
npm error
npm error aliases: clean-install, ic, install-clean, isntall-clean
npm error
npm error Run "npm help ci" for more info
npm error A complete log of this run can be found in: /www-data-home/.npm/_logs/2025-04-10T04_46_51_707Z-debug-0.log. For more details see the logs at https://console.cloud.google.com/cloud-build/builds;region=us-central1/9198c839-4644-41f1-ac37-db607881e260?project=191339301810.
[debug] [2025-04-10T04:47:20.902Z] Total Function Deployment time: 60306
[debug] [2025-04-10T04:47:20.902Z] 1 Functions Deployed
[debug] [2025-04-10T04:47:20.902Z] 1 Functions Errored
[debug] [2025-04-10T04:47:20.902Z] 0 Function Deployments Aborted
[debug] [2025-04-10T04:47:20.902Z] Average Function Deployment time: 60305
[info] 
[info] Functions deploy had errors with the following functions:
	sendReminderEmail(us-central1)
[debug] [2025-04-10T04:47:20.985Z] Checked if tokens are valid: true, expires at: 1744261749984
[debug] [2025-04-10T04:47:20.985Z] Checked if tokens are valid: true, expires at: 1744261749984
[debug] [2025-04-10T04:47:20.985Z] >>> [apiv2][query] GET https://artifactregistry.googleapis.com/v1/projects/appointmentapplication-9c371/locations/us-central1/repositories/gcf-artifacts [none]
[debug] [2025-04-10T04:47:22.321Z] <<< [apiv2][status] GET https://artifactregistry.googleapis.com/v1/projects/appointmentapplication-9c371/locations/us-central1/repositories/gcf-artifacts 200
[debug] [2025-04-10T04:47:22.321Z] <<< [apiv2][body] GET https://artifactregistry.googleapis.com/v1/projects/appointmentapplication-9c371/locations/us-central1/repositories/gcf-artifacts {"name":"projects/appointmentapplication-9c371/locations/us-central1/repositories/gcf-artifacts","format":"DOCKER","description":"This repository is created and used by Cloud Functions for storing function docker images.","labels":{"goog-managed-by":"cloudfunctions"},"createTime":"2025-04-10T04:46:31.995653Z","updateTime":"2025-04-10T04:46:31.995653Z","mode":"STANDARD_REPOSITORY","vulnerabilityScanningConfig":{"lastEnableTime":"2025-04-10T04:46:22.795585903Z","enablementState":"SCANNING_DISABLED","enablementStateReason":"API containerscanning.googleapis.com is not enabled."},"satisfiesPzi":true,"registryUri":"us-central1-docker.pkg.dev/appointmentapplication-9c371/gcf-artifacts"}
[warn] ⚠  functions: No cleanup policy detected for repositories in us-central1. This may result in a small monthly bill as container images accumulate over time. 
[info] i  functions: Configuring cleanup policy for repository in us-central1. Images older than 7 days will be automatically deleted. 
[debug] [2025-04-10T04:48:07.992Z] Setting up artifact cleanup policy for region us-central1
[debug] [2025-04-10T04:48:07.993Z] Checked if tokens are valid: true, expires at: 1744261749984
[debug] [2025-04-10T04:48:07.993Z] Checked if tokens are valid: true, expires at: 1744261749984
[debug] [2025-04-10T04:48:07.994Z] >>> [apiv2][query] PATCH https://artifactregistry.googleapis.com/v1/projects/appointmentapplication-9c371/locations/us-central1/repositories/gcf-artifacts updateMask=name%2CcleanupPolicies%2Clabels
[debug] [2025-04-10T04:48:07.994Z] >>> [apiv2][body] PATCH https://artifactregistry.googleapis.com/v1/projects/appointmentapplication-9c371/locations/us-central1/repositories/gcf-artifacts {"name":"projects/appointmentapplication-9c371/locations/us-central1/repositories/gcf-artifacts","cleanupPolicies":{"firebase-functions-cleanup":{"id":"firebase-functions-cleanup","condition":{"tagState":"ANY","olderThan":"604800s"},"action":"DELETE"}},"labels":{"goog-managed-by":"cloudfunctions"}}
[debug] [2025-04-10T04:48:09.331Z] <<< [apiv2][status] PATCH https://artifactregistry.googleapis.com/v1/projects/appointmentapplication-9c371/locations/us-central1/repositories/gcf-artifacts 200
[debug] [2025-04-10T04:48:09.331Z] <<< [apiv2][body] PATCH https://artifactregistry.googleapis.com/v1/projects/appointmentapplication-9c371/locations/us-central1/repositories/gcf-artifacts {"name":"projects/appointmentapplication-9c371/locations/us-central1/repositories/gcf-artifacts","format":"DOCKER","description":"This repository is created and used by Cloud Functions for storing function docker images.","labels":{"goog-managed-by":"cloudfunctions"},"createTime":"2025-04-10T04:46:31.995653Z","updateTime":"2025-04-10T04:48:09.257364Z","mode":"STANDARD_REPOSITORY","cleanupPolicies":{"firebase-functions-cleanup":{"id":"firebase-functions-cleanup","action":"DELETE","condition":{"tagState":"ANY","olderThan":"604800s"}}},"vulnerabilityScanningConfig":{"lastEnableTime":"2025-04-10T04:46:22.795585903Z","enablementState":"SCANNING_DISABLED","enablementStateReason":"API containerscanning.googleapis.com is not enabled."},"satisfiesPzi":true}
[info] i  functions: Configured cleanup policy for repository in us-central1. 
[debug] [2025-04-10T04:48:09.332Z] Functions deploy failed.
[debug] [2025-04-10T04:48:09.332Z] {
  "endpoint": {
    "id": "sendReminderEmail",
    "project": "appointmentapplication-9c371",
    "region": "us-central1",
    "entryPoint": "sendReminderEmail",
    "platform": "gcfv2",
    "runtime": "nodejs22",
    "eventTrigger": {
      "eventType": "google.cloud.firestore.document.v1.created",
      "retry": false,
      "eventFilters": {
        "database": "(default)",
        "namespace": "(default)"
      },
      "eventFilterPathPatterns": {
        "document": "schedules/{scheduleId}"
      },
      "region": "nam5"
    },
    "labels": {
      "deployment-tool": "cli-firebase"
    },
    "serviceAccount": null,
    "ingressSettings": null,
    "availableMemoryMb": null,
    "timeoutSeconds": null,
    "maxInstances": null,
    "minInstances": null,
    "concurrency": 80,
    "vpc": null,
    "environmentVariables": {
      "FIREBASE_CONFIG": "{\"projectId\":\"appointmentapplication-9c371\",\"storageBucket\":\"appointmentapplication-9c371.firebasestorage.app\"}",
      "GCLOUD_PROJECT": "appointmentapplication-9c371",
      "EVENTARC_CLOUD_EVENT_SOURCE": "projects/appointmentapplication-9c371/locations/us-central1/services/sendReminderEmail"
    },
    "codebase": "default",
    "cpu": 1,
    "targetedByOnly": false,
    "hash": "b982c32cf013ca28743c0d71c9d0c491342adee8"
  },
  "op": "create",
  "original": {
    "name": "FirebaseError",
    "children": [],
    "exit": 1,
    "message": "Build failed with status: FAILURE and message: npm error code EUSAGE\nnpm error\nnpm error `npm ci` can only install packages when your package.json and package-lock.json or npm-shrinkwrap.json are in sync. Please update your lock file with `npm install` before continuing.\nnpm error\nnpm error Invalid: lock file's firebase-admin@13.2.0 does not satisfy firebase-admin@11.11.1\nnpm error Invalid: lock file's firebase-functions@6.3.2 does not satisfy firebase-functions@4.9.0\nnpm error Invalid: lock file's @fastify/busboy@3.1.1 does not satisfy @fastify/busboy@1.2.1\nnpm error Invalid: lock file's @firebase/database-compat@2.0.5 does not satisfy @firebase/database-compat@0.3.4\nnpm error Invalid: lock file's @firebase/database-types@1.0.10 does not satisfy @firebase/database-types@0.10.4\nnpm error Invalid: lock file's @google-cloud/firestore@7.11.0 does not satisfy @google-cloud/firestore@6.8.0\nnpm error Invalid: lock file's @google-cloud/storage@7.16.0 does not satisfy @google-cloud/storage@6.12.0\nnpm error Invalid: lock file's uuid@11.1.0 does not satisfy uuid@9.0.1\nnpm error Missing: text-decoding@1.0.0 from lock file\nnpm error Invalid: lock file's @firebase/component@0.6.13 does not satisfy @firebase/component@0.6.4\nnpm error Invalid: lock file's @firebase/database@1.0.14 does not satisfy @firebase/database@0.14.4\nnpm error Invalid: lock file's @firebase/logger@0.4.4 does not satisfy @firebase/logger@0.4.0\nnpm error Invalid: lock file's @firebase/util@1.11.0 does not satisfy @firebase/util@1.9.3\nnpm error Invalid: lock file's @firebase/auth-interop-types@0.2.4 does not satisfy @firebase/auth-interop-types@0.2.1\nnpm error Invalid: lock file's @firebase/app-types@0.9.3 does not satisfy @firebase/app-types@0.9.0\nnpm error Invalid: lock file's google-gax@4.4.1 does not satisfy google-gax@3.6.1\nnpm error Invalid: lock file's @google-cloud/paginator@5.0.2 does not satisfy @google-cloud/paginator@3.0.7\nnpm error Invalid: lock file's @google-cloud/projectify@4.0.0 does not satisfy @google-cloud/projectify@3.0.0\nnpm error Invalid: lock file's @google-cloud/promisify@4.0.0 does not satisfy @google-cloud/promisify@3.0.1\nnpm error Missing: compressible@2.0.18 from lock file\nnpm error Missing: ent@2.2.2 from lock file\nnpm error Invalid: lock file's gaxios@6.7.1 does not satisfy gaxios@5.1.3\nnpm error Invalid: lock file's google-auth-library@9.15.1 does not satisfy google-auth-library@8.9.0\nnpm error Invalid: lock file's retry-request@7.0.2 does not satisfy retry-request@5.0.2\nnpm error Invalid: lock file's teeny-request@9.0.0 does not satisfy teeny-request@8.0.3\nnpm error Missing: punycode@1.4.1 from lock file\nnpm error Missing: safe-regex-test@1.1.0 from lock file\nnpm error Missing: @types/express@4.17.3 from lock file\nnpm error Invalid: lock file's https-proxy-agent@7.0.6 does not satisfy https-proxy-agent@5.0.1\nnpm error Missing: fast-text-encoding@1.0.6 from lock file\nnpm error Invalid: lock file's gcp-metadata@6.1.1 does not satisfy gcp-metadata@5.3.0\nnpm error Invalid: lock file's gtoken@7.1.0 does not satisfy gtoken@6.1.2\nnpm error Missing: lru-cache@6.0.0 from lock file\nnpm error Invalid: lock file's @grpc/grpc-js@1.13.2 does not satisfy @grpc/grpc-js@1.8.22\nnpm error Missing: @types/rimraf@3.0.2 from lock file\nnpm error Missing: is-stream-ended@0.1.4 from lock file\nnpm error Invalid: lock file's proto3-json-serializer@2.0.2 does not satisfy proto3-json-serializer@1.1.1\nnpm error Missing: protobufjs@7.2.4 from lock file\nnpm error Missing: protobufjs-cli@1.1.1 from lock file\nnpm error Missing: @types/glob@8.1.0 from lock file\nnpm error Missing: @types/minimatch@5.1.2 from lock file\nnpm error Missing: google-p12-pem@4.0.1 from lock file\nnpm error Invalid: lock file's agent-base@7.1.3 does not satisfy agent-base@6.0.2\nnpm error Missing: debug@4.4.0 from lock file\nnpm error Missing: escodegen@1.14.3 from lock file\nnpm error Missing: espree@9.6.1 from lock file\nnpm error Missing: estraverse@5.3.0 from lock file\nnpm error Missing: glob@8.1.0 from lock file\nnpm error Missing: jsdoc@4.0.4 from lock file\nnpm error Missing: minimist@1.2.8 from lock file\nnpm error Missing: semver@7.7.1 from lock file\nnpm error Missing: tmp@0.2.3 from lock file\nnpm error Missing: uglify-js@3.19.3 from lock file\nnpm error Missing: estraverse@4.3.0 from lock file\nnpm error Missing: esutils@2.0.3 from lock file\nnpm error Missing: optionator@0.8.3 from lock file\nnpm error Missing: acorn@8.14.1 from lock file\nnpm error Missing: acorn-jsx@5.3.2 from lock file\nnpm error Missing: eslint-visitor-keys@3.4.3 from lock file\nnpm error Missing: @jsdoc/salty@0.2.9 from lock file\nnpm error Missing: @types/markdown-it@14.1.2 from lock file\nnpm error Missing: bluebird@3.7.2 from lock file\nnpm error Missing: catharsis@0.9.0 from lock file\nnpm error Missing: js2xmlparser@4.0.2 from lock file\nnpm error Missing: klaw@3.0.0 from lock file\nnpm error Missing: markdown-it@14.1.0 from lock file\nnpm error Missing: markdown-it-anchor@8.6.7 from lock file\nnpm error Missing: marked@4.3.0 from lock file\nnpm error Missing: mkdirp@1.0.4 from lock file\nnpm error Missing: requizzle@0.2.4 from lock file\nnpm error Missing: underscore@1.13.7 from lock file\nnpm error Missing: @types/linkify-it@5.0.0 from lock file\nnpm error Missing: @types/mdurl@2.0.0 from lock file\nnpm error Missing: xmlcreate@2.0.4 from lock file\nnpm error Missing: argparse@2.0.1 from lock file\nnpm error Missing: entities@4.5.0 from lock file\nnpm error Missing: linkify-it@5.0.0 from lock file\nnpm error Missing: mdurl@2.0.0 from lock file\nnpm error Missing: punycode.js@2.3.1 from lock file\nnpm error Missing: uc.micro@2.1.0 from lock file\nnpm error Missing: deep-is@0.1.4 from lock file\nnpm error Missing: fast-levenshtein@2.0.6 from lock file\nnpm error Missing: levn@0.3.0 from lock file\nnpm error Missing: prelude-ls@1.1.2 from lock file\nnpm error Missing: type-check@0.3.2 from lock file\nnpm error Missing: word-wrap@1.2.5 from lock file\nnpm error Missing: debug@4.4.0 from lock file\nnpm error Missing: is-regex@1.2.1 from lock file\nnpm error Missing: ms@2.1.3 from lock file\nnpm error Missing: yallist@4.0.0 from lock file\nnpm error Missing: minimatch@5.1.6 from lock file\nnpm error Missing: brace-expansion@2.0.1 from lock file\nnpm error Missing: ms@2.1.3 from lock file\nnpm error\nnpm error Clean install a project\nnpm error\nnpm error Usage:\nnpm error npm ci\nnpm error\nnpm error Options:\nnpm error [--install-strategy <hoisted|nested|shallow|linked>] [--legacy-bundling]\nnpm error [--global-style] [--omit <dev|optional|peer> [--omit <dev|optional|peer> ...]]\nnpm error [--include <prod|dev|optional|peer> [--include <prod|dev|optional|peer> ...]]\nnpm error [--strict-peer-deps] [--foreground-scripts] [--ignore-scripts] [--no-audit]\nnpm error [--no-bin-links] [--no-fund] [--dry-run]\nnpm error [-w|--workspace <workspace-name> [-w|--workspace <workspace-name> ...]]\nnpm error [-ws|--workspaces] [--include-workspace-root] [--install-links]\nnpm error\nnpm error aliases: clean-install, ic, install-clean, isntall-clean\nnpm error\nnpm error Run \"npm help ci\" for more info\nnpm error A complete log of this run can be found in: /www-data-home/.npm/_logs/2025-04-10T04_46_51_707Z-debug-0.log. For more details see the logs at https://console.cloud.google.com/cloud-build/builds;region=us-central1/9198c839-4644-41f1-ac37-db607881e260?project=191339301810.",
    "original": {
      "code": 3,
      "message": "Build failed with status: FAILURE and message: npm error code EUSAGE\nnpm error\nnpm error `npm ci` can only install packages when your package.json and package-lock.json or npm-shrinkwrap.json are in sync. Please update your lock file with `npm install` before continuing.\nnpm error\nnpm error Invalid: lock file's firebase-admin@13.2.0 does not satisfy firebase-admin@11.11.1\nnpm error Invalid: lock file's firebase-functions@6.3.2 does not satisfy firebase-functions@4.9.0\nnpm error Invalid: lock file's @fastify/busboy@3.1.1 does not satisfy @fastify/busboy@1.2.1\nnpm error Invalid: lock file's @firebase/database-compat@2.0.5 does not satisfy @firebase/database-compat@0.3.4\nnpm error Invalid: lock file's @firebase/database-types@1.0.10 does not satisfy @firebase/database-types@0.10.4\nnpm error Invalid: lock file's @google-cloud/firestore@7.11.0 does not satisfy @google-cloud/firestore@6.8.0\nnpm error Invalid: lock file's @google-cloud/storage@7.16.0 does not satisfy @google-cloud/storage@6.12.0\nnpm error Invalid: lock file's uuid@11.1.0 does not satisfy uuid@9.0.1\nnpm error Missing: text-decoding@1.0.0 from lock file\nnpm error Invalid: lock file's @firebase/component@0.6.13 does not satisfy @firebase/component@0.6.4\nnpm error Invalid: lock file's @firebase/database@1.0.14 does not satisfy @firebase/database@0.14.4\nnpm error Invalid: lock file's @firebase/logger@0.4.4 does not satisfy @firebase/logger@0.4.0\nnpm error Invalid: lock file's @firebase/util@1.11.0 does not satisfy @firebase/util@1.9.3\nnpm error Invalid: lock file's @firebase/auth-interop-types@0.2.4 does not satisfy @firebase/auth-interop-types@0.2.1\nnpm error Invalid: lock file's @firebase/app-types@0.9.3 does not satisfy @firebase/app-types@0.9.0\nnpm error Invalid: lock file's google-gax@4.4.1 does not satisfy google-gax@3.6.1\nnpm error Invalid: lock file's @google-cloud/paginator@5.0.2 does not satisfy @google-cloud/paginator@3.0.7\nnpm error Invalid: lock file's @google-cloud/projectify@4.0.0 does not satisfy @google-cloud/projectify@3.0.0\nnpm error Invalid: lock file's @google-cloud/promisify@4.0.0 does not satisfy @google-cloud/promisify@3.0.1\nnpm error Missing: compressible@2.0.18 from lock file\nnpm error Missing: ent@2.2.2 from lock file\nnpm error Invalid: lock file's gaxios@6.7.1 does not satisfy gaxios@5.1.3\nnpm error Invalid: lock file's google-auth-library@9.15.1 does not satisfy google-auth-library@8.9.0\nnpm error Invalid: lock file's retry-request@7.0.2 does not satisfy retry-request@5.0.2\nnpm error Invalid: lock file's teeny-request@9.0.0 does not satisfy teeny-request@8.0.3\nnpm error Missing: punycode@1.4.1 from lock file\nnpm error Missing: safe-regex-test@1.1.0 from lock file\nnpm error Missing: @types/express@4.17.3 from lock file\nnpm error Invalid: lock file's https-proxy-agent@7.0.6 does not satisfy https-proxy-agent@5.0.1\nnpm error Missing: fast-text-encoding@1.0.6 from lock file\nnpm error Invalid: lock file's gcp-metadata@6.1.1 does not satisfy gcp-metadata@5.3.0\nnpm error Invalid: lock file's gtoken@7.1.0 does not satisfy gtoken@6.1.2\nnpm error Missing: lru-cache@6.0.0 from lock file\nnpm error Invalid: lock file's @grpc/grpc-js@1.13.2 does not satisfy @grpc/grpc-js@1.8.22\nnpm error Missing: @types/rimraf@3.0.2 from lock file\nnpm error Missing: is-stream-ended@0.1.4 from lock file\nnpm error Invalid: lock file's proto3-json-serializer@2.0.2 does not satisfy proto3-json-serializer@1.1.1\nnpm error Missing: protobufjs@7.2.4 from lock file\nnpm error Missing: protobufjs-cli@1.1.1 from lock file\nnpm error Missing: @types/glob@8.1.0 from lock file\nnpm error Missing: @types/minimatch@5.1.2 from lock file\nnpm error Missing: google-p12-pem@4.0.1 from lock file\nnpm error Invalid: lock file's agent-base@7.1.3 does not satisfy agent-base@6.0.2\nnpm error Missing: debug@4.4.0 from lock file\nnpm error Missing: escodegen@1.14.3 from lock file\nnpm error Missing: espree@9.6.1 from lock file\nnpm error Missing: estraverse@5.3.0 from lock file\nnpm error Missing: glob@8.1.0 from lock file\nnpm error Missing: jsdoc@4.0.4 from lock file\nnpm error Missing: minimist@1.2.8 from lock file\nnpm error Missing: semver@7.7.1 from lock file\nnpm error Missing: tmp@0.2.3 from lock file\nnpm error Missing: uglify-js@3.19.3 from lock file\nnpm error Missing: estraverse@4.3.0 from lock file\nnpm error Missing: esutils@2.0.3 from lock file\nnpm error Missing: optionator@0.8.3 from lock file\nnpm error Missing: acorn@8.14.1 from lock file\nnpm error Missing: acorn-jsx@5.3.2 from lock file\nnpm error Missing: eslint-visitor-keys@3.4.3 from lock file\nnpm error Missing: @jsdoc/salty@0.2.9 from lock file\nnpm error Missing: @types/markdown-it@14.1.2 from lock file\nnpm error Missing: bluebird@3.7.2 from lock file\nnpm error Missing: catharsis@0.9.0 from lock file\nnpm error Missing: js2xmlparser@4.0.2 from lock file\nnpm error Missing: klaw@3.0.0 from lock file\nnpm error Missing: markdown-it@14.1.0 from lock file\nnpm error Missing: markdown-it-anchor@8.6.7 from lock file\nnpm error Missing: marked@4.3.0 from lock file\nnpm error Missing: mkdirp@1.0.4 from lock file\nnpm error Missing: requizzle@0.2.4 from lock file\nnpm error Missing: underscore@1.13.7 from lock file\nnpm error Missing: @types/linkify-it@5.0.0 from lock file\nnpm error Missing: @types/mdurl@2.0.0 from lock file\nnpm error Missing: xmlcreate@2.0.4 from lock file\nnpm error Missing: argparse@2.0.1 from lock file\nnpm error Missing: entities@4.5.0 from lock file\nnpm error Missing: linkify-it@5.0.0 from lock file\nnpm error Missing: mdurl@2.0.0 from lock file\nnpm error Missing: punycode.js@2.3.1 from lock file\nnpm error Missing: uc.micro@2.1.0 from lock file\nnpm error Missing: deep-is@0.1.4 from lock file\nnpm error Missing: fast-levenshtein@2.0.6 from lock file\nnpm error Missing: levn@0.3.0 from lock file\nnpm error Missing: prelude-ls@1.1.2 from lock file\nnpm error Missing: type-check@0.3.2 from lock file\nnpm error Missing: word-wrap@1.2.5 from lock file\nnpm error Missing: debug@4.4.0 from lock file\nnpm error Missing: is-regex@1.2.1 from lock file\nnpm error Missing: ms@2.1.3 from lock file\nnpm error Missing: yallist@4.0.0 from lock file\nnpm error Missing: minimatch@5.1.6 from lock file\nnpm error Missing: brace-expansion@2.0.1 from lock file\nnpm error Missing: ms@2.1.3 from lock file\nnpm error\nnpm error Clean install a project\nnpm error\nnpm error Usage:\nnpm error npm ci\nnpm error\nnpm error Options:\nnpm error [--install-strategy <hoisted|nested|shallow|linked>] [--legacy-bundling]\nnpm error [--global-style] [--omit <dev|optional|peer> [--omit <dev|optional|peer> ...]]\nnpm error [--include <prod|dev|optional|peer> [--include <prod|dev|optional|peer> ...]]\nnpm error [--strict-peer-deps] [--foreground-scripts] [--ignore-scripts] [--no-audit]\nnpm error [--no-bin-links] [--no-fund] [--dry-run]\nnpm error [-w|--workspace <workspace-name> [-w|--workspace <workspace-name> ...]]\nnpm error [-ws|--workspaces] [--include-workspace-root] [--install-links]\nnpm error\nnpm error aliases: clean-install, ic, install-clean, isntall-clean\nnpm error\nnpm error Run \"npm help ci\" for more info\nnpm error A complete log of this run can be found in: /www-data-home/.npm/_logs/2025-04-10T04_46_51_707Z-debug-0.log. For more details see the logs at https://console.cloud.google.com/cloud-build/builds;region=us-central1/9198c839-4644-41f1-ac37-db607881e260?project=191339301810."
    },
    "status": 3,
    "code": 3
  }
}
[debug] [2025-04-10T04:48:09.399Z] Error: Failed to create function sendReminderEmail in region us-central1
    at /opt/homebrew/lib/node_modules/firebase-tools/lib/deploy/functions/release/fabricator.js:294:27
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async Fabricator.createV2Function (/opt/homebrew/lib/node_modules/firebase-tools/lib/deploy/functions/release/fabricator.js:278:30)
    at async Fabricator.createEndpoint (/opt/homebrew/lib/node_modules/firebase-tools/lib/deploy/functions/release/fabricator.js:137:13)
    at async handle (/opt/homebrew/lib/node_modules/firebase-tools/lib/deploy/functions/release/fabricator.js:89:17)
[error] 
[error] Error: There was an error deploying functions
